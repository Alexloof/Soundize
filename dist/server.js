!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=73)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("react-router-dom")},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.setActiveTrackindex=t.setActiveTrack=t.removeTrackFromPlaylist=t.addTrackToPlaylist=t.addTrackToLatestPlayed=t.removeTrackFromQueuedTracks=t.addTrackToQueuedList=t.setPlayingTracklist=t.getTrackDetail=t.setActiveTracklistSolo=t.setActiveTracklist=t.SET_TRACK_DETAIL=t.SET_ACTIVE_TRACKINDEX=t.SET_ACTIVE_TRACK=t.ADD_TRACK_TO_LATEST_PLAYED=t.REMOVE_TRACK_FROM_QUEUED_LIST=t.ADD_TRACK_TO_QUEUED_LIST=t.SET_PLAYING_TRACKLIST=t.SET_ACTIVE_TRACKLIST=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(6),i=r(13),l=r(4),s=t.SET_ACTIVE_TRACKLIST="set_active_tracklist",c=t.SET_PLAYING_TRACKLIST="set_playing_tracklist",u=t.ADD_TRACK_TO_QUEUED_LIST="add_track_to_queued_list",p=t.REMOVE_TRACK_FROM_QUEUED_LIST="remove_track_from_queued_list",f=t.ADD_TRACK_TO_LATEST_PLAYED="add_track_to_latest_played",d=t.SET_ACTIVE_TRACK="set_active_track",m=t.SET_ACTIVE_TRACKINDEX="set_active_trackindex",y=t.SET_TRACK_DETAIL="set_track_detail",h=(t.setActiveTracklist=function(e,t){return function(){var r=n(regeneratorRuntime.mark(function r(n){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.getTracklistOfPlaylist)(e,t,n);case 2:(a=r.sent)&&n(h(a));case 4:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}()},t.setActiveTracklistSolo=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:s,payload:e});case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}),v=(t.getTrackDetail=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){var n,i,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.fetchTrack)(e);case 2:return n=t.sent,t.next=5,(0,o.fetchTrackDetails)(e);case 5:i=t.sent,l=a({},i,n),i&&n&&r({type:y,payload:l});case 8:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.setPlayingTracklist=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:c,payload:e});case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.addTrackToQueuedList=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:u,payload:e}),r((0,i.showSuccessAlert)("Track was queued"));case 2:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.removeTrackFromQueuedTracks=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:p,payload:e});case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.addTrackToLatestPlayed=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:f,payload:e});case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()});t.addTrackToPlaylist=function(e,t,r){return function(){var a=n(regeneratorRuntime.mark(function n(a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.addTrackToPlaylistCall)(e,t,r,a);case 2:case"end":return n.stop()}},n,void 0)}));return function(e){return a.apply(this,arguments)}}()},t.removeTrackFromPlaylist=function(e,t,r){return function(){var a=n(regeneratorRuntime.mark(function n(a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return[{uri:r}],n.next=3,(0,o.removeTrackFromPlaylistCall)(e,t,r,a);case 3:case"end":return n.stop()}},n,void 0)}));return function(e){return a.apply(this,arguments)}}()},t.setActiveTrack=function(e,t){return function(){var r=n(regeneratorRuntime.mark(function r(n){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n({type:d,payload:e}),n({type:m,payload:t}),n({type:l.ZERO_PLAYED_TIME}),n(v(e));case 4:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}()},t.setActiveTrackindex=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:m,payload:e});case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.playPrevTrack=t.playNextTrack=t.toggleShuffle=t.zeroPlayedTime=t.changeSeek=t.stopSeek=t.startSeek=t.setPlayedTime=t.showMusicbar=t.toggleStartPauseTrack=t.pauseActiveTrack=t.playActiveTrack=t.TOGGLE_SHUFFLE=t.ZERO_PLAYED_TIME=t.CHANGE_SEEK=t.STOP_SEEK=t.START_SEEK=t.SET_PLAYED_TIME=t.SHOW_MUSICBAR=t.TOGGLE_ACTIVE_TRACK=t.PAUSE_ACTIVE_TRACK=t.PLAY_ACTIVE_TRACK=void 0;var a=r(3),o=t.PLAY_ACTIVE_TRACK="play_active_track",i=t.PAUSE_ACTIVE_TRACK="pause_active_track",l=t.TOGGLE_ACTIVE_TRACK="toogle_active_track",s=t.SHOW_MUSICBAR="show_musicbar",c=t.SET_PLAYED_TIME="set_played_time",u=t.START_SEEK="start_seek",p=t.STOP_SEEK="stop_seek",f=t.CHANGE_SEEK="change_seek",d=t.ZERO_PLAYED_TIME="zero_played_time",m=t.TOGGLE_SHUFFLE="toggle_suffle",y=t.playActiveTrack=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:o});case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()};t.pauseActiveTrack=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i});case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.toggleStartPauseTrack=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:l});case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.showMusicbar=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s});case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.setPlayedTime=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:c,payload:e});case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.startSeek=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:u});case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.stopSeek=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:p});case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.changeSeek=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:f,payload:e});case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.zeroPlayedTime=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:d});case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.toggleShuffle=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:m});case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.playNextTrack=function e(){return function(){var t=n(regeneratorRuntime.mark(function t(r,n){var o,i,l,s,c,u,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n().track.queuedTracks,i=n().track.activeTrackIndex,l=n().track.playingTracklist,s=n().player.isShuffling,c=void 0,!(o.length>0)){t.next=13;break}return c=o[0],r((0,a.removeTrackFromQueuedTracks)(0)),t.next=10,r((0,a.setActiveTrack)(c));case 10:r(y()),t.next=38;break;case 13:if(!s){t.next=27;break}if(u=Math.floor(Math.random()*(l.tracks.items.length-1)),c=l.tracks.items[u].track,p=void 0,l.tracks.items.map(function(e,t){e.track.id===c.id&&(p=t)}),c.preview_url){t.next=22;break}setTimeout(function(){r(e())},100),t.next=25;break;case 22:return t.next=24,r((0,a.setActiveTrack)(c,p));case 24:r(y());case 25:t.next=38;break;case 27:if(i===l.tracks.items.length-1){t.next=38;break}if((c=l.tracks.items[i+1].track).preview_url){t.next=35;break}return t.next=32,r((0,a.setActiveTrackindex)(i+1));case 32:setTimeout(function(){r(e())},100),t.next=38;break;case 35:return t.next=37,r((0,a.setActiveTrack)(c,i+1));case 37:r(y());case 38:case"end":return t.stop()}},t,void 0)}));return function(e,r){return t.apply(this,arguments)}}()},t.playPrevTrack=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().track.latestPlayedTracks,o=void 0,!(n.length>1)){e.next=7;break}return o=n[n.length-2],e.next=6,t((0,a.setActiveTrack)(o));case 6:t(y());case 7:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentUser=t.setupAuthToAPI=t.FAIL_USER=t.SET_USER=void 0;var a=r(6),o=t.SET_USER="set_user",i=t.FAIL_USER="fail_user";t.setupAuthToAPI=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(0,a.setAccessToken)(e,r);case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.getCurrentUser=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.fetchUser)(t);case 2:r=e.sent,t(r?{type:o,payload:r}:{type:i});case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRelatedArtists=t.fetchArtistTopTracks=t.fetchArtistAlbums=t.fetchArtist=t.fetchAlbum=t.getSearchedPlaylistsCall=t.getSearchedArtistsCall=t.getSearchedTracksCall=t.getActiveCategoryPlaylistsCall=t.getCategoriesCall=t.removeTrackFromPlaylistCall=t.addTrackToPlaylistCall=t.getTracklistOfPlaylist=t.fetchTrackDetails=t.fetchTrack=t.deleteUserPlaylist=t.followPlaylistCall=t.unfollowPlaylistCall=t.createUserPlaylist=t.fetchNewReleases=t.fetchFeaturedPlaylists=t.fetchPlaylists=t.fetchTopArtists=t.fetchTopTracks=t.fetchUser=t.setAccessToken=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(r(64)),o=r(13),i="https://api.spotify.com/v1";t.setAccessToken=function(){var e=n(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("token",t),localStorage.getItem("token");case 2:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.fetchUser=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/me",{headers:{Accept:"application/json",Authorization:n}}).then(function(e){return e.data},function(e){console.log("Something went wrong getting user details!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.fetchTopTracks=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/me/top/tracks",{headers:{Accept:"application/json",Authorization:n}}).then(function(e){console.log(e.data)},function(e){console.log("Something went wrong getting categories!",e)});case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.fetchTopArtists=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/me/top/artists",{headers:{Accept:"application/json",Authorization:n}}).then(function(e){console.log(e.data)},function(e){console.log("Something went wrong getting categories!",e)});case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.fetchPlaylists=function(){var e=n(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),o="Bearer "+n,e.next=4,a.default.get(i+"/users/"+t+"/playlists",{headers:{Accept:"application/json",Authorization:o}}).then(function(e){return e.data.items},function(e){console.log("Something went wrong getting playlists!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.fetchFeaturedPlaylists=function(){var e=n(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),o="Bearer "+n,e.next=4,a.default.get(i+"/browse/featured-playlists?country=SE&locale=sv_SE&limit=5",{headers:{Accept:"application/json",Authorization:o}}).then(function(e){return e.data.playlists.items},function(e){console.log("Something went wrong getting featured playlists!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.fetchNewReleases=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/browse/new-releases?country=SE",{headers:{Accept:"application/json",Authorization:n}}).then(function(e){return e.data.albums.items},function(e){console.log("Something went wrong getting new releases!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.createUserPlaylist=function(){var e=n(regeneratorRuntime.mark(function e(t,r,n,l){var s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("token"),c="Bearer "+s,e.next=4,a.default.post(i+"/users/"+t+"/playlists",{name:r,description:n},{headers:{Accept:"application/json",Authorization:c}}).then(function(e){console.log("Playlist created",e),l((0,o.showSuccessAlert)(r+" har skapats!"))},function(e){console.log("Something went wrong!",e),l((0,o.showErrorAlert)(r+" kunde inte skapas..."))});case 4:case"end":return e.stop()}},e,void 0)}));return function(t,r,n,a){return e.apply(this,arguments)}}(),t.unfollowPlaylistCall=function(){var e=n(regeneratorRuntime.mark(function e(t,r,n){var l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("token"),s="Bearer "+l,e.next=4,a.default.delete(i+"/users/"+t+"/playlists/"+r+"/followers",{headers:{Accept:"application/json",Authorization:s}}).then(function(e){console.log("Unfollowed a playlist",e),n((0,o.showSuccessAlert)("Du slutade följa en spellista!"))},function(e){console.log("Something went wrong!",e),n((0,o.showErrorAlert)("Det gick inte att sluta följa denna spellista"))});case 4:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),t.followPlaylistCall=function(){var e=n(regeneratorRuntime.mark(function e(t,r,n){var l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("token"),s="Bearer "+l,e.next=4,a.default.put(i+"/users/"+t+"/playlists/"+r+"/followers",{headers:{Accept:"application/json",Authorization:s}}).then(function(e){console.log("Followed a playlist",e),n((0,o.showSuccessAlert)("Du började följa en spellista!"))},function(e){console.log("Something went wrong!",e),n((0,o.showErrorAlert)("Det gick inte att följa denna spellista"))});case 4:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),t.deleteUserPlaylist=function(){var e=n(regeneratorRuntime.mark(function e(t,r,n){var l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("token"),s="Bearer "+l,e.next=4,a.default.delete(i+"/users/"+t+"/playlists/"+r+"/followers",{headers:{Accept:"application/json",Authorization:s}}).then(function(e){console.log("deleted a playlist",e),n((0,o.showSuccessAlert)("Spellistan är nu borttagen"))},function(e){console.log("Something went wrong!",e),n((0,o.showErrorAlert)("Det gick inte att deleta spellistan"))});case 4:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),t.fetchTrack=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/tracks/"+t,{headers:{Accept:"application/json",Authorization:n}}).then(function(e){return e.data},function(e){console.log("Something went wrong getting categories!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.fetchTrackDetails=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/audio-features/"+t,{headers:{Accept:"application/json",Authorization:n}}).then(function(e){return e.data},function(e){console.log("Something went wrong getting categories!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.getTracklistOfPlaylist=function(){var e=n(regeneratorRuntime.mark(function e(t,r,n){var o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=localStorage.getItem("token"),l="Bearer "+o,e.next=4,a.default.get(i+"/users/"+t+"/playlists/"+r,{headers:{Accept:"application/json",Authorization:l}}).then(function(e){return e.data},function(e){console.log("Something went wrong getting tracklist for a specific playlist!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),t.addTrackToPlaylistCall=function(){var e=n(regeneratorRuntime.mark(function e(t,r,n,l){var s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("token"),c="Bearer "+s,e.next=4,a.default.post(i+"/users/"+t+"/playlists/"+r+"/tracks",{uris:[n]},{headers:{Accept:"application/json",Authorization:c}}).then(function(e){console.log("Added tracks to playlist!",e),l((0,o.showSuccessAlert)("Låten lades till i spellista"))},function(e){console.log("Something went wrong!",e),l((0,o.showErrorAlert)("Det gick inte att lägga till låten"))});case 4:case"end":return e.stop()}},e,void 0)}));return function(t,r,n,a){return e.apply(this,arguments)}}(),t.removeTrackFromPlaylistCall=function(){var e=n(regeneratorRuntime.mark(function e(t,r,n,l){var s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("token"),c="Bearer "+s,e.next=4,a.default.delete(i+"/users/"+t+"/playlists/"+r+"/tracks",{headers:{Accept:"application/json",Authorization:c},data:{tracks:[{uri:n}]}}).then(function(e){console.log("Track removed from playlist!",e),l((0,o.showSuccessAlert)("Låten tog borts från spellistan"))},function(e){console.log("Something went wrong!",e),l((0,o.showErrorAlert)("Det gick inte att ta bort låten från spellistan"))});case 4:case"end":return e.stop()}},e,void 0)}));return function(t,r,n,a){return e.apply(this,arguments)}}(),t.getCategoriesCall=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/browse/categories",{headers:{Accept:"application/json",Authorization:n}}).then(function(e){return e.data.categories.items},function(e){console.log("Something went wrong getting categories!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.getActiveCategoryPlaylistsCall=function(){var e=n(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),o="Bearer "+n,e.next=4,a.default.get(i+"/browse/categories/"+t+"/playlists?country=SE",{headers:{Accept:"application/json",Authorization:o}}).then(function(e){return e.data.playlists.items},function(e){console.log("Something went wrong getting playlists for a category!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.getSearchedTracksCall=function(){var e=n(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),o="Bearer "+n,e.next=4,a.default.get(i+"/search?q="+t+"&type=track",{headers:{Accept:"application/json",Authorization:o}}).then(function(e){return e.data.tracks.items},function(e){console.log("Something went wrong when searching for",t,e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.getSearchedArtistsCall=function(){var e=n(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),o="Bearer "+n,e.next=4,a.default.get(i+"/search?q="+t+"&type=artist",{headers:{Accept:"application/json",Authorization:o}}).then(function(e){return e.data.artists.items},function(e){console.log("Something went wrong when searching for",t,e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.getSearchedPlaylistsCall=function(){var e=n(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),o="Bearer "+n,e.next=4,a.default.get(i+"/search?q="+t+"&type=playlist",{headers:{Accept:"application/json",Authorization:o}}).then(function(e){return e.data.playlists.items},function(e){console.log("Something went wrong when searching for",t,e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.fetchAlbum=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/albums/"+t,{headers:{Accept:"application/json",Authorization:n}}).then(function(e){return e.data},function(e){console.log("Something went wrong getting album!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.fetchArtist=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/artists/"+t,{headers:{Accept:"application/json",Authorization:n}}).then(function(e){return e.data},function(e){console.log("Something went wrong getting album!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.fetchArtistAlbums=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/artists/"+t+"/albums",{headers:{Accept:"application/json",Authorization:n}}).then(function(e){return e.data.items},function(e){console.log("Something went wrong getting album!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.fetchArtistTopTracks=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/artists/"+t+"/top-tracks?country=SE",{headers:{Accept:"application/json",Authorization:n}}).then(function(e){return e.data.tracks},function(e){console.log("Something went wrong getting album!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.fetchRelatedArtists=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),n="Bearer "+r,e.next=4,a.default.get(i+"/artists/"+t+"/related-artists",{headers:{Accept:"application/json",Authorization:n}}).then(function(e){return e.data.artists},function(e){console.log("Something went wrong getting album!",e)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.setActivePlaylist=t.deletePlaylist=t.followPlaylist=t.unfollowPlaylist=t.createPlaylist=t.getNewReleases=t.getFeaturedPlaylists=t.getPrivatePlaylists=t.getPlaylists=t.SET_NEW_RELEASES=t.SET_ACTIVE_PLAYLIST=t.SET_FEATURED_PLAYLISTS=t.SET_PRIVATE_PLAYLISTS=t.SET_PLAYLISTS=void 0;var a=r(6),o=t.SET_PLAYLISTS="set_playlists",i=t.SET_PRIVATE_PLAYLISTS="set_private_playlists",l=t.SET_FEATURED_PLAYLISTS="set_featured_playlists",s=t.SET_ACTIVE_PLAYLIST="set_active_playlist",c=t.SET_NEW_RELEASES="set_new_releases";t.getPlaylists=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.fetchPlaylists)(e,r);case 2:(n=t.sent)&&r({type:o,payload:n});case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.getPrivatePlaylists=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return function(){var r=n(regeneratorRuntime.mark(function r(n){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a=[],e.map(function(e){!0!==e.collaborative&&e.owner.id!==t||a.push(e)}),n({type:i,payload:a});case 3:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}()},t.getFeaturedPlaylists=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).toISOString(),e.next=3,(0,a.fetchFeaturedPlaylists)(r,t);case 3:(n=e.sent)&&t({type:l,payload:n});case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.getNewReleases=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.fetchNewReleases)();case 2:(r=e.sent)&&t({type:c,payload:r});case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.createPlaylist=function(e,t,r){return function(){var o=n(regeneratorRuntime.mark(function n(o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.createUserPlaylist)(e,t,r,o);case 2:case"end":return n.stop()}},n,void 0)}));return function(e){return o.apply(this,arguments)}}()},t.unfollowPlaylist=function(e,t){return function(){var r=n(regeneratorRuntime.mark(function r(n){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,a.unfollowPlaylistCall)(e,t,n);case 2:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}()},t.followPlaylist=function(e,t){return function(){var r=n(regeneratorRuntime.mark(function r(n){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,a.followPlaylistCall)(e,t,n);case 2:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}()},t.deletePlaylist=function(e,t){return function(){var r=n(regeneratorRuntime.mark(function r(n){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,a.deleteUserPlaylist)(e,t,n);case 2:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}()},t.setActivePlaylist=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:s,payload:e});case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}},function(e,t){e.exports=require("prop-types")},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveCategoryPlaylists=t.getCategories=t.SET_ACTIVE_CATEGORY_PLAYLISTS=t.SET_CATEGORIES=void 0;var a=r(6),o=t.SET_CATEGORIES="set_categories",i=t.SET_ACTIVE_CATEGORY_PLAYLISTS="set_active_category_playlists";t.getCategories=function(){return function(){var e=n(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.getCategoriesCall)();case 2:(r=e.sent)&&t({type:o,payload:r});case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.getActiveCategoryPlaylists=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.getActiveCategoryPlaylistsCall)(e);case 2:(n=t.sent)&&r({type:i,payload:n});case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),s=n(l),c=n(r(8)),u=r(2),p=r(1),f=n(r(18)),d=r(4),m=r(3),y=function(e){function t(){var e,r,n,i,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=Array(c),p=0;p<c;p++)u[p]=arguments[p];return r=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={dropdownClassName:"dropdown"},n.navigateToTrackDetailPage=function(){n.props.history.push("/app/tracks/"+n.props.track.id)},n.handleClick=function(e){"dropdown is-active"===n.state.dropdownClassName&&n.wrapperRef&&!n.wrapperRef.contains(e.target)&&n.setState({dropdownClassName:"dropdown"})},n.navigateToArtistDetailPage=function(e){n.props.history.push("/app/artists/"+e)},n.addTrackToQueuedList=function(e){n.props.addTrackToQueuedList(e),n.toggleDropdown()},n.startTrack=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id!==n.props.activeTrack.id){e.next=4;break}n.props.playActiveTrack(),e.next=8;break;case 4:return n.props.setPlayingTracklist(n.props.activeTracklist),e.next=7,n.props.setActiveTrack(t,n.props.index);case 7:n.props.playActiveTrack();case 8:n.props.showMusicbar();case 9:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}(),n.setClassName=function(){return n.props.activeTrack.id===n.props.track.id?"track active-track":"track"},n.renderStartStopButton=function(){return null!==n.props.track.preview_url?n.props.isPlaying&&n.props.activeTrack.id===n.props.track.id?s.default.createElement("button",{style:{transform:"translateY(3px)",boxShadow:"none"},onClick:function(){return n.props.pauseActiveTrack()},className:"button play-btn"},s.default.createElement("span",{className:"icon"},s.default.createElement("i",{className:"fa fa-pause"}))):s.default.createElement("button",{onClick:function(){return n.startTrack(n.props.track)},className:"button play-btn"},s.default.createElement("span",{className:"icon"},s.default.createElement("i",{className:"fa fa-play"}))):s.default.createElement("button",{className:"button play-btn"},s.default.createElement("span",{className:"icon"},s.default.createElement("i",{className:"fa fa-remove"})))},n.playedTimeColor=function(){return n.props.activeTrack.id===n.props.track.id?100*n.props.playedTime+"%":0},n.renderPopularity=function(){for(var e=Math.round(n.props.track.popularity/10),t=[],r=1;r<=e;r++)t.push(r);return t.map(function(e,t){return s.default.createElement("div",{key:t,className:"color-pop"})})},n.toggleDropdown=function(){"dropdown"===n.state.dropdownClassName?(n.setState({dropdownClassName:"dropdown is-active"}),document.addEventListener("mousedown",n.handleClick)):(n.setState({dropdownClassName:"dropdown"}),document.removeEventListener("mousedown",n.handleClick))},n.addTrackToPlaylist=function(e,t,r){n.props.addTrackToPlaylist(e,t,r),n.toggleDropdown()},n.removeTrackFromPlaylist=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.removeTrackFromPlaylist(n.props.activeTracklist.owner.id,n.props.activeTracklist.id,t);case 2:n.toggleDropdown(),n.props.setActiveTracklist(n.props.activeTracklist.owner.id,n.props.activeTracklist.id);case 4:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}(),n.setMenuWrapperRef=function(e){n.wrapperRef=e},n.onSeekMouseDown=function(){n.props.startSeek()},n.onSeekChange=function(e){n.props.changeSeek(parseFloat(e.target.value))},n.onSeekMouseUp=function(e){document.getElementById("audioPlayer").currentTime=parseFloat(30*e.target.value),n.props.changeSeek(parseFloat(e.target.value)),n.props.stopSeek()},i=r,o(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillUpdate",value:function(){if(this.props.track.id!==this.props.activeTrack.id)return!1}},{key:"renderFormattedArtists",value:function(e){var t=this;return e.map(function(r,n){return n+1===e.length?s.default.createElement("span",{key:n,onClick:function(){return t.navigateToArtistDetailPage(r.id)}},r.name):s.default.createElement("span",{key:n,onClick:function(){return t.navigateToArtistDetailPage(r.id)}},r.name+", ")})}},{key:"render",value:function(){var e=this;return s.default.createElement("li",{className:this.setClassName()},s.default.createElement("div",{className:"img-wrapper"},s.default.createElement("div",{className:"img-click-play"},this.props.isPlaying&&this.props.activeTrack.id===this.props.track.id?s.default.createElement("button",{onClick:function(){return e.props.pauseActiveTrack()},className:"button play-btn"},s.default.createElement("span",{className:"icon"},s.default.createElement("i",{className:"fa fa-pause"}))):s.default.createElement("button",{onClick:function(){return e.startTrack(e.props.track)},className:"button play-btn"},s.default.createElement("span",{className:"icon"},s.default.createElement("i",{className:"fa fa-play"})))),0!==this.props.track.album.images.length?s.default.createElement("img",{src:this.props.track.album.images[0].url}):s.default.createElement("img",null)),s.default.createElement("div",{className:"track-info"},s.default.createElement("div",{className:"track-section-higher"},s.default.createElement("div",{className:"track-details"},s.default.createElement("div",{className:"artist-label"},this.renderFormattedArtists(this.props.track.artists)),s.default.createElement("div",{onClick:function(){return e.navigateToTrackDetailPage()},className:"title-label"},this.props.track.name)),s.default.createElement("div",{className:"track-section-higher-right-grp"},s.default.createElement("div",{className:"popularity"},s.default.createElement("div",{className:"bg-pop-wrapper",style:{position:"absolute"}},this.renderPopularity()),s.default.createElement("div",{className:"bg-pop-wrapper"},s.default.createElement("div",{className:"bg-pop"}),s.default.createElement("div",{className:"bg-pop"}),s.default.createElement("div",{className:"bg-pop"}),s.default.createElement("div",{className:"bg-pop"}),s.default.createElement("div",{className:"bg-pop"}),s.default.createElement("div",{className:"bg-pop"}),s.default.createElement("div",{className:"bg-pop"}),s.default.createElement("div",{className:"bg-pop"}),s.default.createElement("div",{className:"bg-pop"}),s.default.createElement("div",{className:"bg-pop"}))),s.default.createElement("div",{className:this.state.dropdownClassName},s.default.createElement(f.default,{toggleDropdown:function(){return e.toggleDropdown()},setMenuWrapperRef:this.setMenuWrapperRef,privatePlaylists:this.props.privatePlaylists,addTrackToPlaylist:function(t,r,n){return e.addTrackToPlaylist(t,r,n)},removeTrackFromPlaylist:function(t){return e.removeTrackFromPlaylist(t)},addTrackToQueuedList:function(t){return e.addTrackToQueuedList(t)},track:this.props.track,isMyPlaylist:this.props.isMyPlaylist})))),s.default.createElement("div",{className:"track-section-lower"},this.renderStartStopButton(),this.props.activeTrack.id===this.props.track.id?s.default.createElement("div",{className:"time-counter"},(Math.round(30*(this.props.playedTime||0))/100).toFixed(2)):s.default.createElement("div",{className:"time-counter hidden"}),s.default.createElement("div",{className:"time-duration"},(Math.round(30)/100).toFixed(2)),s.default.createElement("div",{className:"running-track"},s.default.createElement("div",{style:{width:this.playedTimeColor()},className:"played-color"}),s.default.createElement("div",{className:"track-color"}),this.props.track.id===this.props.activeTrack.id?s.default.createElement("input",{type:"range",min:0,max:1,step:"any",value:this.props.playedTime,onMouseDown:this.onSeekMouseDown,onChange:this.onSeekChange,onMouseUp:this.onSeekMouseUp}):s.default.createElement("input",{type:"range",min:0,max:1,step:"any",value:0})))))}}]),t}();y.propTypes={track:c.default.object.isRequired,index:c.default.number.isRequired,isMyPlaylist:c.default.bool};t.default=(0,u.withRouter)((0,p.connect)(function(e){var t=e.playlist,r=e.track,n=e.player;return{playlists:t.playlists,isPlaying:n.isPlaying,playedTime:n.playedTime,activeTrack:r.activeTrack,activeTracklist:r.activeTracklist,privatePlaylists:t.privatePlaylists}},{pauseActiveTrack:d.pauseActiveTrack,playActiveTrack:d.playActiveTrack,setActiveTrack:m.setActiveTrack,removeTrackFromPlaylist:m.removeTrackFromPlaylist,addTrackToPlaylist:m.addTrackToPlaylist,addTrackToQueuedList:m.addTrackToQueuedList,showMusicbar:d.showMusicbar,setActiveTracklist:m.setActiveTracklist,setPlayingTracklist:m.setPlayingTracklist,changeSeek:d.changeSeek,startSeek:d.startSeek,stopSeek:d.stopSeek})(y))},function(e,t){e.exports=require("react-router-config")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAlbum=t.SET_ALBUM=void 0;var n=r(6),a=t.SET_ALBUM="set_album";t.getAlbum=function(e){return function(){var t=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}(regeneratorRuntime.mark(function t(r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.fetchAlbum)(e);case 2:(o=t.sent)&&r({type:a,payload:o});case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showErrorAlert=t.showSuccessAlert=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(23));t.showSuccessAlert=function(e){return function(t){n.default.success(e,{position:"top-right",effect:"slide",beep:!1,timeout:4e3,offset:30})}},t.showErrorAlert=function(e){return function(t){n.default.error(e,{position:"top-right",effect:"slide",beep:!1,timeout:4e3,offset:30})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArtistDetail=t.SET_ARTIST_RELATED_ARTISTS=t.SET_ARTIST_TOP_TRACKS=t.SET_ARTIST_ALBUMS=t.SET_ARTIST=void 0;var n=r(6),a=t.SET_ARTIST="set_artist",o=t.SET_ARTIST_ALBUMS="set_artist_albums",i=t.SET_ARTIST_TOP_TRACKS="set_artist_top_tracks",l=t.SET_ARTIST_RELATED_ARTISTS="set_artist_related_artists";t.getArtistDetail=function(e){return function(){var t=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}(regeneratorRuntime.mark(function t(r){var s,c,u,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.fetchArtist)(e);case 2:return s=t.sent,t.next=5,(0,n.fetchArtistAlbums)(e);case 5:return c=t.sent,t.next=8,(0,n.fetchArtistTopTracks)(e);case 8:return u=t.sent,t.next=11,(0,n.fetchRelatedArtists)(e);case 11:p=t.sent,s&&r({type:a,payload:s}),c&&r({type:o,payload:c}),u&&r({type:i,payload:u}),p&&r({type:l,payload:p});case 16:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchedPlaylists=t.getSearchedTracks=t.getSearchedArtists=t.SET_SEARCHED_PLAYLISTS=t.SET_SEARCHED_TRACKS=t.SET_SEARCHED_ARTISTS=void 0;var a=r(6),o=t.SET_SEARCHED_ARTISTS="set_searched_artists",i=t.SET_SEARCHED_TRACKS="set_searched_tracks",l=t.SET_SEARCHED_PLAYLISTS="set_searched_playlists";t.getSearchedArtists=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.getSearchedArtistsCall)(e);case 2:(n=t.sent)&&r({type:o,payload:n});case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.getSearchedTracks=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.getSearchedTracksCall)(e);case 2:(n=t.sent)&&r({type:i,payload:n});case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.getSearchedPlaylists=function(e){return function(){var t=n(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.getSearchedPlaylistsCall)(e);case 2:(n=t.sent)&&r({type:l,payload:n});case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),s=n(l),c=(r(2),r(1)),u=r(7),p=r(3),f=n(r(19)),d=n(r(42)),m=n(r(34)),y=n(r(49)),h=n(r(20)),v=function(e){function t(){var e,r,n,i,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=Array(c),p=0;p<c;p++)u[p]=arguments[p];return r=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={modalClassName:"modal create-playlist-modal",playlistClassName:"column playlists-menu"},n.getAllPlaylists=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.getPlaylists(t.user.id);case 2:n.props.getPrivatePlaylists(n.props.playlists,t.user.id),n.props.getFeaturedPlaylists(),n.props.playlists.length>1&&n.setStandardPlaylist(n.props.playlists);case 5:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}(),n.setStandardPlaylist=function(e){n.props.setActivePlaylist(e[0].id),n.props.setActiveTracklist(e[0].owner.id,e[0].id)},n.togglePlaylist=function(){"column playlists-menu"===n.state.playlistClassName?n.setState({playlistClassName:"column playlists-menu active"}):n.setState({playlistClassName:"column playlists-menu"})},n.closeModal=function(){n.setState({modalClassName:"modal create-playlist-modal"})},n.openModal=function(){n.setState({modalClassName:"modal create-playlist-modal is-active"})},n.createPlaylist=function(){var e=a(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.closeModal(),e.next=3,n.props.createPlaylist(n.props.user.id,t,r);case 3:n.props.getPlaylists(),n.props.getPrivatePlaylists();case 5:case"end":return e.stop()}},e,l)}));return function(t,r){return e.apply(this,arguments)}}(),n.renderTracklist=function(){return n.props.activeTracklist&&n.props.activeTracklist.id?s.default.createElement(f.default,null):s.default.createElement(h.default,null)},i=r,o(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentDidMount",value:function(){this.getAllPlaylists(this.props),window.scroll(0,0)}},{key:"componentWillReceiveProps",value:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.user!==t.user&&this.getAllPlaylists(t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement("div",{className:"columns"},s.default.createElement("div",{className:this.state.playlistClassName},s.default.createElement(d.default,{onOpenCreatePlaylistModal:this.openModal})),s.default.createElement("div",{className:"column is-6 tracklist"},this.renderTracklist()),s.default.createElement("div",{className:"column extra-infolist"},s.default.createElement(m.default,null))),s.default.createElement("div",{className:this.state.modalClassName},s.default.createElement(y.default,{createPlaylist:function(t,r){return e.createPlaylist(t,r)},closeModal:this.closeModal})),s.default.createElement("div",{onClick:function(){return e.togglePlaylist()},style:{position:"fixed",top:"15px",left:"15px",zIndex:999,color:"#bdbdbd"},className:"burger-menu-playlist"},s.default.createElement("i",{style:{fontSize:"1.5rem"},className:"fa fa-tasks","aria-hidden":"true"})))}}]),t}();t.default=(0,c.connect)(function(e){var t=e.user,r=e.playlist,n=e.track;return{user:t.user,playlists:r.playlists,privatePlaylists:r.privatePlaylists,featuredPlaylists:r.featuredPlaylists,activeTracklist:n.activeTracklist}},{getPlaylists:u.getPlaylists,getPrivatePlaylists:u.getPrivatePlaylists,getFeaturedPlaylists:u.getFeaturedPlaylists,createPlaylist:u.createPlaylist,setActivePlaylist:u.setActivePlaylist,setActiveTracklist:p.setActiveTracklist})(v)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),l=n(i),s=r(2),c=r(1),u=r(15),p=r(3),f=n(r(10)),d=function(e){function t(){var e,r,n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state={loadingTracks:!1,loadingArtists:!1,loadingPlaylists:!1},n.makeSearch=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.getSearchedArtists(t.location.search.slice(3)),n.props.getSearchedPlaylists(t.location.search.slice(3)),e.next=4,n.props.getSearchedTracks(t.location.search.slice(3));case 4:r={owner:{},name:"",tracks:{items:[]}},n.props.searchedTracks.map(function(e){r.tracks.items.push({track:e})}),n.props.setActiveTracklistSolo(r);case 7:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}(),n.navigateToArtistDetailPage=function(e){n.props.history.push("/app/artists/"+e)},n.navigateToPlaylist=function(e,t){n.props.history.push("/app/playlists/"+e+"/"+t)},n.renderArtists=function(){return n.props.searchedArtists.map(function(e,t){return l.default.createElement("li",{key:t,onClick:function(){return n.navigateToArtistDetailPage(e.id)},className:"artist-result"},l.default.createElement("img",{src:e.images[1]?e.images[1].url:"https://upload.wikimedia.org/wikipedia/en/e/ee/Unknown-person.gif"}),l.default.createElement("p",null,e.name))})},n.renderTracks=function(){return n.props.searchedTracks.map(function(e,t){if(null!==e)return l.default.createElement(f.default,{key:t,track:e,index:t})})},n.renderPlaylists=function(){return n.props.searchedPlaylists.map(function(e,t){return l.default.createElement("li",{key:t,onClick:function(){return n.navigateToPlaylist(e.owner.id,e.id)},className:"playlist-result"},l.default.createElement("img",{src:e.images?e.images[0].url:"https://upload.wikimedia.org/wikipedia/en/e/ee/Unknown-person.gif"}),l.default.createElement("p",null,e.name.length>30?e.name.substr(0,27)+"...":e.name))})},o=r,a(n,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){window.scroll(0,0),this.makeSearch(this.props)}},{key:"componentWillUpdate",value:function(e){e.location.search.slice(3)!==this.props.location.search.slice(3)&&(this.makeSearch(e),window.scroll(0,0))}},{key:"componentWillUnmount",value:function(){this.props.setActiveTracklistSolo(null)}},{key:"render",value:function(){return l.default.createElement("div",{className:"search-component"},l.default.createElement("div",{className:"search-banner"},l.default.createElement("h1",{className:"title"},"Sökresultat för: "),l.default.createElement("h2",{className:"subtitle"},this.props.location.search.slice(3))),l.default.createElement("div",{className:"search-data-wrapper"},l.default.createElement("div",{className:"searched-artists"},l.default.createElement("h2",null,"Artister"),l.default.createElement("ul",{className:"menu-list artist-list"},this.props.searchedArtists.length>0?this.renderArtists():l.default.createElement("li",null,"Inga matchande artister"))),l.default.createElement("div",{className:"searched-tracks"},l.default.createElement("h2",null,"Låtar"),l.default.createElement("ul",{className:"menu-list track-list"},this.props.searchedTracks.length>0?this.renderTracks():l.default.createElement("li",{style:{textAlign:"center"}},"Inga matchande låtar"))),l.default.createElement("div",{className:"searched-playlists"},l.default.createElement("h2",null,"Spellistor"),l.default.createElement("ul",{className:"menu-list playlist-list"},this.props.searchedPlaylists.length>0?this.renderPlaylists():l.default.createElement("li",null,"Inga matchande spellistor")))))}}]),t}();t.default=(0,s.withRouter)((0,c.connect)(function(e){var t=e.search;return{searchedArtists:t.searchedArtists,searchedPlaylists:t.searchedPlaylists,searchedTracks:t.searchedTracks}},{getSearchedArtists:u.getSearchedArtists,getSearchedTracks:u.getSearchedTracks,getSearchedPlaylists:u.getSearchedPlaylists,setActiveTracklistSolo:p.setActiveTracklistSolo})(d))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.default=function(e){var t=e.toggleDropdown,r=e.setMenuWrapperRef,a=e.privatePlaylists,o=e.addTrackToPlaylist,i=e.removeTrackFromPlaylist,l=e.addTrackToQueuedList,s=e.track,c=e.isMyPlaylist;return n.default.createElement("div",null,n.default.createElement("div",{className:"dropdown-trigger"},n.default.createElement("div",{onClick:function(){return t()},className:"track-open-mini-meny","aria-haspopup":"true","aria-controls":"dropdown-menu"},n.default.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}),n.default.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}),n.default.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),n.default.createElement("div",{ref:r,className:"dropdown-menu track-mini-meny",id:"dropdown-menu",role:"menu"},n.default.createElement("div",{className:"dropdown-content"},n.default.createElement("div",{className:"dropdown-item open-add-track","aria-haspopup":"true","aria-controls":"dropdown-menu4"},"Lägg till i spellista",n.default.createElement("span",{className:"icon is-small"},n.default.createElement("i",{className:"fa fa-angle-right","aria-hidden":"true"})),n.default.createElement("div",{className:"mini-meny-playlists"},n.default.createElement("ul",{className:"menu-list"},a.map(function(e,t){return n.default.createElement("li",{key:t},n.default.createElement("a",{onClick:function(){return o(e.owner.id,e.id,s.uri)}},e.name))})))),null!==s.preview_url?n.default.createElement("div",{onClick:function(){return l(s)},className:"dropdown-item"},"Lägg till i kön"):null,c?n.default.createElement("div",{onClick:function(){return i(s.uri)},className:"dropdown-item"},"Ta bort från spellistan"):null)))}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),c=n(s),u=r(1),p=r(7),f=r(3),d=r(4),m=n(r(10)),y=n(r(51)),h=n(r(50)),v=n(r(46)),g=n(r(45)),k=function(e){function t(){var e,r,n,a,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state={scrolled:!1,unfollowModalClassName:"modal are-you-sure",deleteModalClassName:"modal are-you-sure"},n.componentDidMount=function(){var e=!1,t=document.getElementsByClassName("tracklist-scroll-banner");n.interval=setInterval(function(){window.pageYOffset>400?!1===e&&(e=!0,t[0].classList=[t[0].classList[0]+" banner-show effect1"]):(e=!1,t[0].classList=["tracklist-scroll-banner effect1"])},500)},n.showUnfollowModal=function(){n.setState({unfollowModalClassName:"modal are-you-sure is-active"})},n.showDeleteModal=function(){n.setState({deleteModalClassName:"modal are-you-sure is-active"})},n.closeUnfollowPlaylistModal=function(){n.setState({unfollowModalClassName:"modal are-you-sure"})},n.closeDeletePlaylistModal=function(){n.setState({deleteModalClassName:"modal are-you-sure"})},n.followActivePlaylist=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.followPlaylist(n.props.activeTracklist.owner.id,n.props.activeTracklist.id);case 2:n.props.getPlaylists();case 3:case"end":return e.stop()}},e,l)})),n.unfollowActivePlaylist=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.closeUnfollowPlaylistModal(),e.next=3,n.props.unfollowPlaylist(n.props.activeTracklist.owner.id,n.props.activeTracklist.id);case 3:n.props.getPlaylists();case 4:case"end":return e.stop()}},e,l)})),n.deleteActivePlaylist=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.closeDeletePlaylistModal(),e.next=3,n.props.deletePlaylist(n.props.user.id,n.props.activeTracklist.id);case 3:return e.next=5,n.props.getPlaylists();case 5:n.props.setActiveTracklist(n.props.userPlaylists[0].owner.id,n.props.userPlaylists[0].id),n.props.setActivePlaylist(n.props.userPlaylists[0].id);case 7:case"end":return e.stop()}},e,l)})),n.checkPlaylistOwner=function(){if(n.props.activeTracklist.owner&&n.props.activeTracklist.owner.id===n.props.user.id)return!0},n.playActiveTracklist=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.showMusicbar(),n.props.setPlayingTracklist(n.props.activeTracklist),e.next=4,n.props.setActiveTrack(n.props.activeTracklist.tracks.items[0].track,0);case 4:n.props.playActiveTrack();case 5:case"end":return e.stop()}},e,l)})),n.checkFollowStatusOnPlaylist=function(e){return!!n.props.userPlaylists.map(function(t){if(t.id===e)return!0}).includes(!0)},a=r,i(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"renderTracklist",value:function(){var e=this;return this.props.activeTracklist.tracks.items.map(function(t,r){if(null!==t.track)return c.default.createElement(m.default,{key:r,track:t.track,isMyPlaylist:e.checkPlaylistOwner(),index:r})})}},{key:"render",value:function(){return c.default.createElement("div",{className:"menu "},c.default.createElement(v.default,{activeTracklist:this.props.activeTracklist,playingTracklistId:this.props.playingTracklistId,isPlaying:this.props.isPlaying,playActiveTracklist:this.playActiveTracklist,stopActiveTrack:this.props.pauseActiveTrack,showDeleteModal:this.showDeleteModal}),c.default.createElement(g.default,{activeTracklist:this.props.activeTracklist,playingTracklistId:this.props.playingTracklistId,isPlaying:this.props.isPlaying,playActiveTracklist:this.playActiveTracklist,stopActiveTrack:this.props.pauseActiveTrack,showDeleteModal:this.showDeleteModal,checkFollowStatusOnPlaylist:this.checkFollowStatusOnPlaylist,showUnfollowModal:this.showUnfollowModal,followActivePlaylist:this.followActivePlaylist,userId:this.props.user.id}),c.default.createElement("ul",{className:"menu-list tracklist-tracks"},this.props.activeTracklist?this.renderTracklist():null),c.default.createElement("div",{className:this.state.unfollowModalClassName},c.default.createElement(y.default,{unfollowPlaylist:this.unfollowActivePlaylist,closeModal:this.closeUnfollowPlaylistModal})),c.default.createElement("div",{className:this.state.deleteModalClassName},c.default.createElement(h.default,{deletePlaylist:this.deleteActivePlaylist,closeModal:this.closeDeletePlaylistModal})))}}]),t}();k.propTypes={};t.default=(0,u.connect)(function(e){var t,r=e.user,n=e.track,o=e.playlist,i=e.player;return t={user:r.user,userPlaylists:o.playlists,activeTracklist:n.activeTracklist,privatePlaylists:o.privatePlaylists},a(t,"activeTracklist",n.activeTracklist),a(t,"playingTracklistId",n.playingTracklist.id),a(t,"isPlaying",i.isPlaying),t},{deletePlaylist:p.deletePlaylist,getPlaylists:p.getPlaylists,setActiveTracklist:f.setActiveTracklist,setActivePlaylist:p.setActivePlaylist,unfollowPlaylist:p.unfollowPlaylist,followPlaylist:p.followPlaylist,playActiveTrack:d.playActiveTrack,pauseActiveTrack:d.pauseActiveTrack,setActiveTrack:f.setActiveTrack,showMusicbar:d.showMusicbar,setPlayingTracklist:f.setPlayingTracklist})(k)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.default=function(){return n.default.createElement("div",null,n.default.createElement("a",{style:{margin:"0 auto",display:"block",paddingTop:"100px",fontSize:"2.5rem",backgroundColor:"transparent",border:"0"},className:"button is-loading"},"Loading"))}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(28)),o=n(r(16)),i=n(r(35)),l=n(r(17)),s=n(r(31)),c=n(r(32)),u=n(r(33)),p=n(r(41)),f=n(r(39)),d=n(r(43)),m=n(r(27)),y=n(r(29)),h=n(r(44)),v=n(r(0)),g=r(68);t.default=[{path:"/callback",component:s.default,exact:!1},{path:"/",component:i.default,exact:!0},{path:"/app",component:a.default,exact:!1,routes:[{path:"/app",component:o.default,exact:!0},{path:"/app/discover",component:c.default,exact:!0},{path:"/app/discover/:category",component:u.default,exact:!0},{path:"/app/new_releases",component:f.default,exact:!0},{path:"/app/toplists",component:d.default,exact:!0},{path:"/app/albums/:id",component:m.default,exact:!0},{path:"/app/artists/:id",component:y.default,exact:!0},{path:"/app/tracks/:id",component:h.default,exact:!0},{path:"/app/playlists/:user/:id",component:p.default,exact:!0},{path:"/app/search",component:l.default,exact:!1}]},{component:function(){return v.default.createElement(g.Redirect,{from:"*",to:"/"})}}]},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOUAAAAmCAYAAAA7tVwMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAgLSURBVHhe7ZvPq1VVFMelQU2FIIgSLDWzH6hloREqBeGgSCqIItAKKmigDWqYQk1DGxfptChyVtRAR/0Y6aCcPtHm/vgHTu9z312P5Xrfs8/Z597Hfde3Fnx456y1f5x77/7utc8+523Y8MCWJkmSNYR0DuCuB7c092zaKmNJklQgnQM4+eLTzfUPDspYkiQVSOcALrz5XNN8/IKMJUlSgXQOIEWZJFNCOgdgoty4eZuMrwc27tjdHHj9rdtQ5ZKkiHT24ODOx5vDe55cPkeQgN+XM3Y9tqM5um+njM07R45/2lz853LTZj//8tuojKqbJCuQzh6ce23vbRs7XaI8+8qzo7iKzStkxvN//DWWXrctXL3WHH7/I9lWkiwjnT2I95BdorzT7jkRZFt2vPDn3yPa7NQ338k2k2SEdPbARMg9JEK087YlKlmV+OZt22V83jj7w09jiS0ZIjz4xtsryu166eXm5FdfNzdu3RqXXCobyyXJMtLZAUI0ESJIL0qeV6o6vryKzxNkSW+X/r088qmyBnHE2Kdsss6RTsHx/buXBedF2CZKNoFOHdqzorzfHJpXyIjeau4TU5BJJ9IpsOUnxyxRvQiB40vvPL8sSr+xgxB9eWtzXkGE3jbvPSDLTQJtsmN75vsfR5tJxonFpfCr730o60RqHs3Qn5WNn4cleE1bTDxWlrptsS5i3TZK/YFvswv1W8bP30WsX410BrwIebRhIjSR2TmbOUAd29ghS1r8yrv7l0WJUM+Pyyq64rMkZkqEo8oNgQFGe122cPVac+zzL2QbhjcV93Dfa8axj8VJ6PS3Z26LR/z3E++f+Xz+/rrLrt+8Ofo+ShNfqT+osfjZgTZrLNavRjoDFxczIIJCWCxjeRyC6MiMHJ8+9MworkRJebLmjcVMi4/yxC2TIlrOEfsRt0m0MO5vrS53r1z7b/wTLBkiYVeVTIZY/MzJQFRtRJiRGYQ1xoBta9+bintKooRzv/4+ji7Z0U8+W1HG6BKJ76uv8b209bnuRGn3g2RLhIeYTFwmwgj1qAO+nB0T5y9x2uOcrGgi9JnZ4vhZQiNeztnFPbZ/18zeIEJANTM+oi3N+PijIBECA5FBZ5Cl4oTAywmqTW8q7ukSpRLSUJEwidBe3MHGZ/DZlRjU8rSrP99uhI03b8dPfLmivr8O1UYk1q8mOu7etHVZEAZZjsGPqMiaiINlKOdkNBMdPs5px+pyDoiLOPV9nLYQmPXDuWVmMjB++rbMSRwx8tfOzyy2TR3O27Bl8zRhgNTOopgazP4lBMTOQItlDAZ1HNCqvLcYizCYzNTA8nEzJpEhIjF8OaytjBcO35MqY1bqLxJXJnynqpz/jVV86ign2dFj2YmBbYPcdmM5RhAmOs4pz198Vp5YWxzBIUjEyV98ZEsr57MoS2aOmRAoT5tMCNZ/G6v5fJQsh9BspuRH9KiM6ndsqe9NCUzhBwuZJca9xVhkiCgxJcxpihJo31tcbQwRZRRk6VGV/55VfOpIZwu2lAWOGex2boPfYvxFuBZHUObn2MrZvSp16YMYgrM+LW7LXntZweLzAqL14uRtIIuxZDJjcPh6JeIGTIx7i7FIjShZQvvsxeD2A3raogQvjPgIqlaU8VahJEjwfVOOPQP2D/yuuMrgg5HOAggEyDwmMhOV3QvaX1uWAmWtvN1P0h71LEvGvixOWcvW8wzC9Gb+OOB9nRIMEG8x7i3GIjWi5Ji+vTCZZGxgr4Yo/XI9Xl+NKLlG/3okE6VddxtelCVTdQchnQVs+cixF6XPhGQ6K2MCJMOZSLkPRIjWZmlpSb07QZAQl2E2GPyArxFlXPbGuLcYi0TR9YnzeVT2Xw1R+t3feH19+1OCjEtvxZoXJfduCJNjBIPIwGdC4iY6lrBegFbelqPzCgOhzw/qaRuEfvnql7Vd+MzLjmyMe+vKBkNECVGY7DCvhii9mKjnY337Y5farK8gwYuSY34v+oyouoOQzgqUKEuis40cdlZVfB4wMahNjhJ+UHgRIRhv8Z5JQZ2Fq9fGNXSG9YOpa9D4TKQeC5REG5flXkDTEGW8d44TjG+nrb/4QgbXrMop/Peo4lNHOiswkZE1Oe8SpS1nyaAqvtZhQPjMgPHCQCkTscz0gsTiwPf3TIi99LYO7cVlWNyRBN9maSOCicVvfKiJpiRKiMI0m1SUvGror009tugSJROWtxpBwtyJ0kRm5ybKtkxo5cmqKj4PxCUbxsBBeAjUgxiiqR1WRO03TjCERxu868qbQQg1zvhY2yCLg57MSnv2ppG9W+sHvbo26BIl+EnArEaUfidTfW9852ryK4mS38obnzX2E/H1wYtSlY/c+8SEz8Sls4I2UdojjojtplpmnVf4saOI+hjLxLasqoTZZV2zfswSJSvdZ/URJURh1oiyZHwvbddWEmVNH2a+PnhR9rH7n9q3oo0qpLMCHn+o54r4fTnDXgBQsXkEUcTX3pQxqPrcKwKDPmbiaIi7bZBGWCp3tcfAK7XXV5RxYplUlLRFf20TGaQoO7gTlqdDYEAzeIAfkYzBMaJV93t9YEDRBtluGu0xKVh7iJpjBNtH3PTJ9UBX/wjIypba9uUUqo6i1F9XHwpfH2hTlWvj7oceXdFGFdI5AetVlEkyNaRzAuI9ZpIklUjnBNh/dqhYkiQ9kM4JuO/hR5rt2ydcUyfJekY6kySZHdKZJMnskM4kSWaHdCZJMjukM0mS2SGdSZLMiC3N/8I5ipU0wWkUAAAAAElFTkSuQmCC"},function(e,t){e.exports=require("react-s-alert")},function(e,t){e.exports=require("redux")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(11),o=n(r(21)),i=n(r(52)),l=n(r(53)),s=r(65),c=s();c.use(s.static("dist")),c.get("*",function(e,t){var r=(0,l.default)(e),n=(0,a.matchRoutes)(o.default,e.path).map(function(e){var t=e.route;return t.loadData?t.loadData(r):null}).map(function(e){if(e)return new Promise(function(t,r){e.then(t).catch(t)})});Promise.all(n).then(function(){var n={},a=(0,i.default)(e,r,n);return n.url?t.redirect(301,n.url):(n.notFound&&t.status(404),t.send(a))})});var u=process.env.PORT||8080;c.listen(u,function(){console.log("Listning on port 8080")})},function(e,t){e.exports=require("babel-polyfill")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),s=n(l),c=r(2),u=r(1),p=n(r(10)),f=r(3),d=r(5),m=r(12),y=function(e){function t(){var e,r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.renderTracks=function(e){return e.map(function(e,t){var r={album:{images:[{url:n.props.album.images[0]?n.props.album.images[0].url:null}]}},a=o({},e,r);return s.default.createElement(p.default,{key:t,track:a,isMyPlaylist:!1,index:t})})},i=r,a(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentDidMount",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.scroll(0,0),e.next=3,this.props.getAlbum(this.props.match.params.id);case 3:t={owner:{},name:"",tracks:{items:[]}},this.props.album.tracks&&(this.props.album.tracks.items.map(function(e){var n={album:{images:[{url:r.props.album.images[0]?r.props.album.images[0].url:null}]}},a=o({},e,n);t.tracks.items.push({track:a})}),this.props.setActiveTracklistSolo(t));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.default.createElement("div",{className:"album-detail-component"},s.default.createElement("div",{className:"tracklist-banner effect8"},s.default.createElement("div",{className:"tracklist-banner-info"},s.default.createElement("div",{className:"large-info"},s.default.createElement("p",{className:"menu-label"},"Album"),s.default.createElement("p",{className:"tracklist-name title"},this.props.album.name)),s.default.createElement("div",{className:"tracklist-banner-info-lower"},s.default.createElement("div",{className:"small-info"},s.default.createElement("p",null,"Releas date: ",this.props.album.release_date)))),s.default.createElement("div",{className:"tracklist-img"},this.props.album.images?s.default.createElement("img",{src:this.props.album.images.length>0?this.props.album.images[0].url:null}):null)),s.default.createElement("ul",null,this.props.album.tracks?this.renderTracks(this.props.album.tracks.items):null))}}]),t}();t.default=(0,c.withRouter)((0,u.connect)(function(e){var t=e.album,r=e.track,n=e.player;return{album:t.album,activeTracklist:r.activeTracklist,playingTracklistId:r.playingTracklist.id,isPlaying:n.isPlaying}},{setupAuthToAPI:d.setupAuthToAPI,getAlbum:m.getAlbum,setActiveTracklistSolo:f.setActiveTracklistSolo})(y))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=n(o),l=(r(2),r(1)),s=r(11),c=n(r(23)),u=n(r(47)),p=n(r(38)),f=n(r(36)),d=(n(r(16)),n(r(17)),function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"app",style:{marginTop:"52px"}},i.default.createElement(p.default,{user:this.props.user}),(0,s.renderRoutes)(this.props.route.routes),i.default.createElement(c.default,{stack:{limit:3},html:!0}),i.default.createElement(f.default,null))}}]),t}());t.default=(0,l.connect)(function(e){return{user:e.user.user}},null)((0,u.default)(d))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),s=n(l),c=r(2),u=r(1),p=n(r(10)),f=r(14),d=r(5),m=r(3),y=function(e){function t(){var e,r,n,i,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return r=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.getArtistDetail=function(){var e=a(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.getArtistDetail(t);case 2:r={owner:{},name:"",tracks:{items:[]}},n.props.artistTopTracks.map(function(e){r.tracks.items.push({track:e})}),n.props.setActiveTracklistSolo(r);case 5:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}(),n.navigateToAlbum=function(e){n.props.history.push("/app/albums/"+e)},n.navigateToArtist=function(e){n.props.history.push("/app/artists/"+e)},n.renderGenres=function(e){if(e)return e.map(function(e,t){return s.default.createElement("span",{key:t,className:"genre"},e)})},n.renderTracks=function(){return n.props.artistTopTracks.map(function(e,t){if(null!==e)return s.default.createElement(p.default,{key:t,track:e,index:t})})},n.renderAlbums=function(){return n.props.artistAlbums.map(function(e,t){return s.default.createElement("li",{key:t,className:"artist-album",onClick:function(){return n.navigateToAlbum(e.id)}},s.default.createElement("img",{src:e.images?e.images[0].url:"https://upload.wikimedia.org/wikipedia/en/e/ee/Unknown-person.gif"}),s.default.createElement("p",null,e.name))})},n.renderRelated=function(){return n.props.relatedArtists.map(function(e,t){return s.default.createElement("li",{key:t,className:"artist-related-solo",onClick:function(){return n.navigateToArtist(e.id)}},s.default.createElement("img",{src:e.images?e.images[0].url:"https://upload.wikimedia.org/wikipedia/en/e/ee/Unknown-person.gif"}),s.default.createElement("p",null,e.name))})},i=r,o(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillMount",value:function(){var e=a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.scroll(0,0),this.getArtistDetail(this.props.match.params.id),this.unlisten=this.props.history.listen(function(e,r){var n=e.pathname.slice(13),a=e.pathname.slice(5,12);n&&"artists"==a&&n!==t.props.match.params.id&&t.getArtistDetail(n)});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"componentWillReceiveProps",value:function(e){e.artist.id!==this.props.artist.id&&this.props.getArtistDetail(this.props.match.params.id)}},{key:"render",value:function(){return s.default.createElement("div",{className:"artist-detail-component"},s.default.createElement("div",{className:"artist-info"},s.default.createElement("div",{className:"artist-art-wrapper"},s.default.createElement("img",{className:"artist-art",src:this.props.artist.images?this.props.artist.images[0].url:"https://upload.wikimedia.org/wikipedia/en/e/ee/Unknown-person.gif"}),this.props.artist.images?s.default.createElement("div",{className:"artist-art-fader"}):null,s.default.createElement("h1",null,this.props.artist.name)),s.default.createElement("div",{className:"artist-info-box"},s.default.createElement("p",{className:"artist-genres"},this.renderGenres(this.props.artist.genres)),s.default.createElement("p",{className:"artist-followers"},s.default.createElement("span",null,"Följare: "),this.props.artist.followers?this.props.artist.followers.total.toLocaleString():null),s.default.createElement("p",{className:"artist-popularity"},s.default.createElement("span",null,"Populäritet:")," ",this.props.artist.popularity)),s.default.createElement("div",{className:"artist-related"},s.default.createElement("h2",null,"Liknande artister"),s.default.createElement("ul",{className:"menu-list related-list"},this.props.relatedArtists.length>0?this.renderRelated():s.default.createElement("li",{style:{textAlign:"center"}},"Artisten har liknande artister")))),s.default.createElement("div",{className:"artist-albums"},s.default.createElement("h2",null,"Album"),s.default.createElement("ul",{className:"menu-list album-list"},this.props.artistAlbums.length>0?this.renderAlbums():s.default.createElement("li",{style:{textAlign:"center"}},"Artisten har inga album"))),s.default.createElement("div",{className:"artist-top-tracks"},s.default.createElement("h2",null,"Låtar"),s.default.createElement("ul",{className:"menu-list track-list"},this.props.artistTopTracks.length>0?this.renderTracks():s.default.createElement("li",{style:{textAlign:"center"}},"Artisten har inga låtar"))))}}]),t}();t.default=(0,c.withRouter)((0,u.connect)(function(e){var t=e.artist;return{artist:t.artist,artistAlbums:t.albums,artistTopTracks:t.topTracks,relatedArtists:t.relatedArtists}},{setupAuthToAPI:d.setupAuthToAPI,getArtistDetail:f.getArtistDetail,setActiveTracklistSolo:m.setActiveTracklistSolo})(y))},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){var e,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={isPlaying:!1,muted:!1,volume:"",playbackRate:"",url:""},a.timeUpdate=function(e){var t=a.audioPlayer.duration;t&&a.props.onProgress(a.audioPlayer.currentTime/t)},a.startPlayer=function(){a.audioPlayer.play(),a.setState({isPlaying:!0})},a.pausePlayer=function(){a.audioPlayer.pause(),a.setState({isPlaying:!1})},a.stopPlayer=function(){a.audioPlayer.removeAttribute("src")},o=r,n(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.url!==e.url&&this.setState({url:e.url},function(){t.startPlayer()}),e.isPlaying&&!this.state.isPlaying&&this.startPlayer(),!e.isPlaying&&this.state.isPlaying&&this.pausePlayer(),this.state.volume===e.volume||e.muted||(this.audioPlayer.volume=e.volume),this.state.muted!==e.muted&&(this.audioPlayer.volume=e.muted?0:e.volume),this.state.playbackRate!==e.playbackRate&&this.audioPlayer.setPlaybackRate&&(this.audioPlayer.setPlaybackRate(e.playbackRate),this.setState({playbackRate:e.playbackRate}))}},{key:"render",value:function(){var e=this;return i.default.createElement("audio",{ref:function(t){e.audioPlayer=t},id:"audioPlayer",autoPlay:!1,crossOrigin:"anonymous",src:this.props.url,volume:.5,onEnded:function(){return e.props.onEnded()},onTimeUpdate:function(t){return e.timeUpdate(t)},loop:this.props.loop})}}]),t}();t.default=l},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=r(2),s=function(e){function t(){var e,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.componentDidMount=function(){console.log(localStorage.getItem("token"));var e=a.props.location.hash.slice(14,-34);e&&window.opener.postMessage({type:"access_token",access_token:e},"*"),window.close()},o=r,n(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){return i.default.createElement("div",null)}}]),t}();t.default=(0,l.withRouter)(s)},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=r(2),s=r(1),c=r(9),u=function(e){function t(){var e,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.componentWillMount=function(){window.scroll(0,0),a.props.getCategories()},a.navigateToCategory=function(e){a.props.history.push("/app/discover/"+e)},o=r,n(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"discover-component "},i.default.createElement("h1",null,"Utforska"),i.default.createElement("ul",{className:"menu-list discover-list"},this.props.categories.map(function(t,r){return i.default.createElement("li",{onClick:function(){return e.navigateToCategory(t.id)},key:r,className:"discover-item"},i.default.createElement("img",{src:t.icons[0].url}),i.default.createElement("h2",null,t.name))})))}}]),t}();t.default=(0,l.withRouter)((0,s.connect)(function(e){return{categories:e.categories.categories}},{getCategories:c.getCategories})(u))},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=r(2),s=r(1),c=r(9),u=function(e){function t(){var e,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.componentWillMount=function(){window.scroll(0,0),a.props.getActiveCategoryPlaylists(a.props.match.params.category)},a.navigateToPlaylist=function(e,t){a.props.history.push("/app/playlists/"+e+"/"+t)},o=r,n(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"discover-category-component "},i.default.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"go-back-button"},i.default.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"})),i.default.createElement("h1",null,this.props.match.params.category),i.default.createElement("ul",{className:"menu-list discover-category-list"},this.props.categoryPlaylists.map(function(t,r){return i.default.createElement("li",{onClick:function(){return e.navigateToPlaylist(t.owner.id,t.id)},key:r,className:"discover-category-item"},i.default.createElement("img",{src:t.images[0].url}))})))}}]),t}();t.default=(0,l.withRouter)((0,s.connect)(function(e){return{categoryPlaylists:e.categories.activeCategoryPlaylists}},{getActiveCategoryPlaylists:c.getActiveCategoryPlaylists})(u))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),l=n(i),s=n(r(67)),c=r(1),u=r(3),p=r(4),f=function(e){function t(){var e,r,n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.startTrack=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.setActiveTrack(t);case 2:n.props.playActiveTrack();case 3:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}(),n.renderLatestPlayed=function(e){return e.map(function(e,t){return l.default.createElement("li",{key:t},l.default.createElement("div",{className:"left-grp"},0!==e.album.images.length?l.default.createElement("img",{src:e.album.images[0].url}):l.default.createElement("img",null),l.default.createElement("div",{className:"track-info"},l.default.createElement("div",{className:"artist-label"},n.renderArtists(e.artists)),l.default.createElement("div",{className:"title-label"},e.name))),l.default.createElement("div",{className:"right-grp"},l.default.createElement("button",{onClick:function(){return n.startTrack(e)},className:"button play-btn"},l.default.createElement("span",{className:"icon"},l.default.createElement("i",{className:"fa fa-play"})))))})},n.renderQueuedTracks=function(e){return e.map(function(e,t){return l.default.createElement("li",{key:t},l.default.createElement("div",{className:"left-grp"},0!==e.album.images.length?l.default.createElement("img",{src:e.album.images[0].url}):l.default.createElement("img",null),l.default.createElement("div",{className:"track-info"},l.default.createElement("div",{className:"artist-label"},n.renderArtists(e.artists)),l.default.createElement("div",{className:"title-label"},e.name))),l.default.createElement("div",{className:"right-grp"},l.default.createElement("span",{onClick:function(){return n.props.removeTrackFromQueuedTracks(t)},className:"icon"},l.default.createElement("i",{className:"fa fa-remove"}))))})},o=r,a(n,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"renderArtists",value:function(e){return e.map(function(t,r){return r+1===e.length?t.name:t.name+", "})}},{key:"render",value:function(){return l.default.createElement("aside",{className:"menu"},l.default.createElement("p",{className:"menu-label top-label"},l.default.createElement("span",null,"Senast spelade")),l.default.createElement("ul",{className:"menu-list latest-played"},l.default.createElement(s.default,{duration:350,easing:"ease-out",appearAnimation:"accordionHorizontal",className:"flip-move"},this.props.latestPlayedTracks?this.renderLatestPlayed(this.props.latestPlayedTracks):l.default.createElement("li",{style:{marginLeft:"30px"}},"Inga spelade låtar..."))),l.default.createElement("p",{style:{marginTop:"30px"},className:"menu-label top-label"},l.default.createElement("span",null,"Köade låtar")),l.default.createElement("ul",{className:"menu-list queued-tracks"},l.default.createElement(s.default,{duration:350,easing:"ease-out",appearAnimation:"accordionHorizontal"},this.props.queuedTracks?this.renderQueuedTracks(this.props.queuedTracks):l.default.createElement("li",{style:{marginLeft:"30px"}},"Du har inga låtar på kö"))))}}]),t}();t.default=(0,c.connect)(function(e){var t=e.track;return{queuedTracks:t.queuedTracks,latestPlayedTracks:t.latestPlayedTracks}},{setActiveTrack:u.setActiveTrack,playActiveTrack:p.playActiveTrack,removeTrackFromQueuedTracks:u.removeTrackFromQueuedTracks})(f)},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=r(1),s=r(2),c=r(5),u="https://accounts.spotify.com/authorize?client_id=8d7cb1d087644280982de543cbb92989&redirect_uri="+encodeURIComponent("https://soundize.herokuapp.com/callback")+"&scope="+encodeURIComponent(["user-read-private","playlist-read-private","playlist-read-collaborative","playlist-modify-public","playlist-modify-private","user-top-read","user-library-read","user-library-modify","user-follow-read","user-follow-modify"].join(" "))+"&response_type=token",p=450,f=730,d=p/2-p/2,m=f/2-f/2,y=function(e){function t(){var e,r,a,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return r=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={navClassName:"navbar-start"},a.auth=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("access_token"!=t.data.type){e.next=6;break}return e.next=3,a.props.setupAuthToAPI(t.data.access_token);case 3:return e.next=5,a.props.getCurrentUser();case 5:a.props.history.push("/app");case 6:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}(),a.login=function(){window.open(u,"Spotify","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width="+p+", height="+f+", top="+m+", left="+d)},o=r,n(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",function(t){return e.auth(t)},!1)}},{key:"render",value:function(){var e=this;return console.log(u),i.default.createElement("div",{className:"login-wrapper"},i.default.createElement("div",null,i.default.createElement("nav",{className:"navbar "},i.default.createElement("div",{className:"navbar-brand"},i.default.createElement(s.NavLink,{className:"navbar-item",to:"/"},i.default.createElement("img",{src:r(22),alt:"soundize"})),i.default.createElement("a",{className:"navbar-item is-hidden-desktop login-btn",onClick:function(){return e.login()},style:{color:"white"}},i.default.createElement("span",null,"Logga in"))),i.default.createElement("div",{id:"navMenubd-example",className:"navbar-menu"},i.default.createElement("div",{className:"navbar-end"},i.default.createElement("a",{onClick:function(){return e.login()},className:"login-btn"},i.default.createElement("span",null,"Logga in"))))),i.default.createElement("section",{className:"wrapper"},i.default.createElement("div",{className:"banner-info"},i.default.createElement("h1",null,"Discover a universe of music"),i.default.createElement("h1",null,"Login now!"),i.default.createElement("p",null,i.default.createElement("a",{className:"banner-button"},"LEARN MORE")),i.default.createElement("p",null,i.default.createElement("a",{className:"scroll-down",id:"mini-info"},"Learn about Soundize")),i.default.createElement("br",null),i.default.createElement("i",{className:"fa fa-arrow-down scroll-down bounce","aria-hidden":"true"}))),i.default.createElement("section",{className:"banner-two"},i.default.createElement("img",{src:r(63),alt:"devices"}),i.default.createElement("div",{className:"banner-two-info"},i.default.createElement("h1",{id:"slide-one"},"What's on Soundize?"),i.default.createElement("h2",{id:"slide-two"},"Music"),i.default.createElement("p",{id:"slide-two"},"There are millions of songs on Maesto. Play your favorites, discover new tracks, and build the perfect collection."),i.default.createElement("h2",{id:"slide-three"},"Playlists"),i.default.createElement("p",{id:"slide-three"},"You’ll find readymade playlists to match your mood, put together by music fans and experts."),i.default.createElement("h2",{id:"slide-four"},"New releases"),i.default.createElement("p",{id:"slide-four"},"Hear the week's latest singles and albums, and check out what's hot in the Top 50."))),i.default.createElement("section",{className:"banner-three"},i.default.createElement("i",{className:"fa fa-arrow-down scroll-down-two","aria-hidden":"true"}),i.default.createElement("div",{className:"wrapper"},i.default.createElement("h1",null,"Music for everyone."),i.default.createElement("p",null,i.default.createElement("a",{className:"banner-button",href:"#"},"GET SOUNDIZE FREE"),i.default.createElement("a",{className:"banner-button",href:"#"},"GEAT SOUNDIZE PREMIUM")))),i.default.createElement("section",{className:"banner-four"},i.default.createElement("i",{className:"fa fa-arrow-down scroll-down-three","aria-hidden":"true"}),i.default.createElement("div",{className:"service-header"},i.default.createElement("h1",null,"One account. Listen everywhere."),i.default.createElement("p",null,"Mobile - Computer - Tablet - Web player - Car")),i.default.createElement("div",{className:"services"},i.default.createElement("div",{className:"service-one"},i.default.createElement("h2",null,"Search"),i.default.createElement("p",null,"Know what you want to listen to? Just search and hit play.")),i.default.createElement("div",{className:"service-two"},i.default.createElement("h2",null,"Browse"),i.default.createElement("p",null,"Check out the latest charts, brand new releases and great playlists for right now.")),i.default.createElement("div",{className:"service-three"},i.default.createElement("h2",null,"Discover"),i.default.createElement("p",null,"Enjoy new music every Monday with your own personal playlist. Or sit back and enjoy Radio.")))),i.default.createElement("footer",null,i.default.createElement("div",{id:"footer"},i.default.createElement("span",{className:"slide"},i.default.createElement("i",{className:"fa fa-facebook-square footicon","aria-hidden":"true"}),i.default.createElement("i",{className:"fa fa-linkedin-square footicon","aria-hidden":"true"}),i.default.createElement("i",{className:"fa fa-instagram footicon","aria-hidden":"true"}),i.default.createElement("i",{className:"fa fa-twitter-square footicon","aria-hidden":"true"})),i.default.createElement("h2",null,"Copyright - 2017 Soundize")))))}}]),t}();t.default=(0,s.withRouter)((0,l.connect)(null,{getCurrentUser:c.getCurrentUser,setupAuthToAPI:c.setupAuthToAPI})(y))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),l=n(i),s=r(1),c=n(r(71)),u=r(2),p=n(r(30)),f=n(r(37)),d=n(r(18)),m=r(3),y=r(4),h=function(e){function t(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={duration:30,muted:!1,volume:.5,loop:!1,dropdownClassName:"dropdown"},n.createVisualization=function(){var e=new(window.AudioContext||window.webkitAudioContext),t=e.createAnalyser(),r=n.refs.analyzerCanvas,a=r.getContext("2d"),o=document.getElementById("audioPlayer");n.audioSrc=e.createMediaElementSource(o),n.audioSrc.connect(t),n.audioSrc.connect(e.destination),t.connect(e.destination);!function e(){document.getElementById("analyzerTwo")&&(canvasTwo=document.getElementById("analyzerTwo"),ctx2=canvasTwo.getContext("2d"));var n=new Uint8Array(t.frequencyBinCount);t.getByteFrequencyData(n),a.clearRect(0,0,r.width,r.height),a.fillStyle="#ff6b42";for(var o=0;o<t.frequencyBinCount;o++){var i=3*o,l=-n[o]/2;a.fillRect(i,r.height,2,l)}requestAnimationFrame(e)}()},n.navigateToTrackDetailPage=function(){n.props.history.push("/app/tracks/"+n.props.activeTrack.id)},n.navigateToArtistDetailPage=function(e){n.props.history.push("/app/artists/"+e)},n.onProgress=function(e){n.props.isSeeking||n.props.setPlayedTime(e)},n.startStopTrack=function(){n.props.toggleStartPauseTrack()},n.onSeekMouseDown=function(){n.props.startSeek()},n.onSeekChange=function(e){n.props.changeSeek(parseFloat(e.target.value))},n.onSeekMouseUp=function(e){document.getElementById("audioPlayer").currentTime=parseFloat(e.target.value*n.state.duration),n.props.stopSeek(),n.props.changeSeek(parseFloat(e.target.value))},n.setVolume=function(e){n.setState({volume:parseFloat(e.target.value)})},n.toggleMuted=function(){n.setState({muted:!n.state.muted})},n.onEnded=function(){n.state.loop||n.props.playNextTrack()},n.playedTimeColor=function(){var e=1.11*n.props.playedTime;return 100*n.props.playedTime*1-e+"%"},n.volumeAmount=function(){return 100*n.state.volume+"%"},n.requestFullScreen=function(e){c.default.enabled&&c.default.request()},n.addTrackToPlaylist=function(e,t,r){n.props.addTrackToPlaylist(e,t,r),n.toggleDropdown()},n.addTrackToQueuedList=function(e){n.props.addTrackToQueuedList(e),n.toggleDropdown()},n.toggleDropdown=function(){"dropdown"===n.state.dropdownClassName?(n.setState({dropdownClassName:"dropdown is-active"}),document.addEventListener("mousedown",n.handleClick)):(n.setState({dropdownClassName:"dropdown"}),document.removeEventListener("mousedown",n.handleClick))},n.handleClick=function(e){"dropdown is-active"===n.state.dropdownClassName&&n.wrapperRef&&!n.wrapperRef.contains(e.target)&&n.setState({dropdownClassName:"dropdown"})},n.setMenuWrapperRef=function(e){n.wrapperRef=e},o=r,a(n,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.createVisualization()}},{key:"renderFormattedArtists",value:function(e){var t=this;return e.map(function(r,n){return n+1===e.length?l.default.createElement("span",{key:n,onClick:function(){return t.navigateToArtistDetailPage(r.id)}},r.name):l.default.createElement("span",{key:n,onClick:function(){return t.navigateToArtistDetailPage(r.id)}},r.name+", ")})}},{key:"render",value:function(){var e=this,t=void 0;return t=this.props.showMusicbar?"music-bar display-music-bar":"music-bar",l.default.createElement("div",{className:t},l.default.createElement("div",{className:"my-container"},l.default.createElement("div",{className:"img-info"},l.default.createElement("div",{className:this.state.dropdownClassName},l.default.createElement(d.default,{privatePlaylists:this.props.privatePlaylists,track:this.props.activeTrack,setMenuWrapperRef:this.setMenuWrapperRef,toggleDropdown:function(){return e.toggleDropdown()},addTrackToPlaylist:function(t,r,n){return e.addTrackToPlaylist(t,r,n)},addTrackToQueuedList:function(t){return e.addTrackToQueuedList(t)},isMyPlaylist:!1})),l.default.createElement("img",{src:this.props.activeTrack.id?this.props.activeTrack.album.images[0].url:null}),l.default.createElement("div",{className:"track-info"},l.default.createElement("p",{className:"artist-label"},this.renderFormattedArtists(this.props.activeTrack.artists)),l.default.createElement("p",{onClick:function(){return e.navigateToTrackDetailPage()},className:"track-title"},this.props.activeTrack.name))),l.default.createElement(f.default,{playPreviousTrack:function(){return e.props.playPrevTrack()},playNextTrack:function(){return e.props.playNextTrack()},toggleLoop:function(){return e.setState({loop:!e.state.loop})},isLooping:this.state.loop,isPlaying:this.props.isPlaying,pauseActiveTrack:function(){return e.props.pauseActiveTrack()},playActiveTrack:function(){return e.props.playActiveTrack()},isShuffling:this.props.isShuffling,toggleShuffle:function(){return e.props.toggleShuffle()}}),l.default.createElement("div",{className:"fullscreen",onClick:function(t){return e.requestFullScreen(t)}},l.default.createElement("span",{className:"icon"},l.default.createElement("i",{className:"fa fa-expand","aria-hidden":"true"}))),l.default.createElement("div",{className:"track-running-wrapper"},l.default.createElement("div",{className:"time-counter"},(Math.round(this.state.duration*this.props.playedTime)/100).toFixed(2)),l.default.createElement("div",{className:"running-track"},l.default.createElement("div",{style:{width:this.playedTimeColor()},className:"played-color"}),l.default.createElement("div",{className:"track-color"}),l.default.createElement("input",{type:"range",min:0,max:1,step:"any",value:this.props.playedTime,onMouseDown:this.onSeekMouseDown,onChange:this.onSeekChange,onMouseUp:this.onSeekMouseUp})),l.default.createElement("div",{className:"time-duration"},(Math.round(this.state.duration)/100).toFixed(2))),l.default.createElement("div",{className:"sound-options"},l.default.createElement("span",{className:"icon",onClick:function(){return e.toggleMuted()}},this.state.muted?l.default.createElement("i",{className:"fa fa-volume-off"}):l.default.createElement("i",{className:"fa fa-volume-up"})),l.default.createElement("div",{className:"volume-wrapper"},l.default.createElement("div",{style:{width:this.volumeAmount()},className:"volume-amount-color"}),l.default.createElement("div",{className:"volume-color"}),l.default.createElement("input",{type:"range",min:0,max:1,step:"any",value:this.state.volume,onChange:this.setVolume}))),l.default.createElement(p.default,{isPlaying:this.props.isPlaying,muted:this.state.muted,volume:this.state.volume,url:this.props.activeTrack.preview_url,onEnded:this.onEnded,onProgress:this.onProgress,loop:this.state.loop}),l.default.createElement("canvas",{ref:"analyzerCanvas",id:"analyzer"})))}}]),t}();t.default=(0,u.withRouter)((0,s.connect)(function(e){var t=e.track,r=e.player,n=e.playlist;return{activeTrack:t.activeTrack,isPlaying:r.isPlaying,isSeeking:r.isSeeking,playedTime:r.playedTime,showMusicbar:r.showMusicbar,queuedTracklist:t.queuedTracks,playingTracklist:t.playingTracklist,activeTrackIndex:t.activeTrackIndex,latestPlayedTracks:t.latestPlayedTracks,privatePlaylists:n.privatePlaylists,isShuffling:r.isShuffling}},{toggleStartPauseTrack:y.toggleStartPauseTrack,setPlayedTime:y.setPlayedTime,startSeek:y.startSeek,stopSeek:y.stopSeek,changeSeek:y.changeSeek,pauseActiveTrack:y.pauseActiveTrack,playActiveTrack:y.playActiveTrack,zeroPlayedTime:y.zeroPlayedTime,removeTrackFromQueuedTracks:m.removeTrackFromQueuedTracks,setActiveTrack:m.setActiveTrack,setActiveTrackindex:m.setActiveTrackindex,playNextTrack:y.playNextTrack,playPrevTrack:y.playPrevTrack,addTrackToPlaylist:m.addTrackToPlaylist,addTrackToQueuedList:m.addTrackToQueuedList,toggleShuffle:y.toggleShuffle})(h))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.default=function(e){var t=e.playPreviousTrack,r=e.playNextTrack,a=e.toggleLoop,o=e.isLooping,i=e.isPlaying,l=e.pauseActiveTrack,s=e.playActiveTrack,c=e.isShuffling,u=e.toggleShuffle;return n.default.createElement("div",{className:"musicbar-actions"},n.default.createElement("button",{onClick:function(){return u()},className:"button step-change-btn"},n.default.createElement("span",{className:"icon"},c?n.default.createElement("i",{className:"fa fa-random active","aria-hidden":"true"}):n.default.createElement("i",{className:"fa fa-random","aria-hidden":"true"}))),n.default.createElement("button",{onClick:function(){return t()},className:"button step-change-btn"},n.default.createElement("span",{className:"icon"},n.default.createElement("i",{className:"fa fa-step-backward"}))),function(e,t,r){return e?n.default.createElement("button",{onClick:function(){return r()},className:"button play-btn"},n.default.createElement("span",{className:"icon"},n.default.createElement("i",{className:"fa fa-pause"}))):n.default.createElement("button",{onClick:function(){return t()},className:"button play-btn"},n.default.createElement("span",{className:"icon"},n.default.createElement("i",{className:"fa fa-play"})))}(i,s,l),n.default.createElement("button",{onClick:function(){return r()},className:"button step-change-btn"},n.default.createElement("span",{className:"icon"},n.default.createElement("i",{className:"fa fa-step-forward"}))),n.default.createElement("button",{onClick:function(){return a()},className:"button step-change-btn"},n.default.createElement("span",{className:"icon"},o?n.default.createElement("i",{className:"fa fa-retweet active"}):n.default.createElement("i",{className:"fa fa-retweet"}))))}},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=r(2),s=r(1),c=r(4),u=function(e){function t(){var e,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={searchText:"",navClassName:"navbar-start",mobileMenu:"mobile-links-menu"},a.onLogout=function(){localStorage.removeItem("token"),a.props.pauseActiveTrack(),a.props.history.replace("/")},a.onInputChange=function(e){a.setState({searchText:e.target.value},function(){a.state.searchText?setTimeout(function(){a.props.history.push({pathname:"/app/search",search:"?q="+a.state.searchText.toLowerCase(),state:{id:a.state.searchText.toLowerCase()}})},500):a.props.history.push("/app")})},a.onSearchSubmit=function(e){e.preventDefault(),a.state.searchText.length>0&&(a.props.history.push({pathname:"/app/search",search:"?q="+a.state.searchText.toLowerCase(),state:{id:a.state.searchText.toLowerCase()}}),a.setState({searchText:""}))},a.toggleMobileMenu=function(){"mobile-links-menu"===a.state.mobileMenu?a.setState({mobileMenu:"mobile-links-menu active"}):a.setState({mobileMenu:"mobile-links-menu"})},o=r,n(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this;return i.default.createElement("nav",{className:"navbar "},i.default.createElement("div",{className:"navbar-brand"},i.default.createElement(l.NavLink,{className:"navbar-item",to:"/login",onClick:function(){return e.onLogout()}},i.default.createElement("img",{src:r(22),alt:"asasas"}))),i.default.createElement("div",{onClick:function(){return e.toggleMobileMenu()},className:"burge-menu"},"mobile-links-menu"===this.state.mobileMenu?i.default.createElement("i",{className:"fa fa-bars","aria-hidden":"true"}):i.default.createElement("i",{className:"fa fa-times","aria-hidden":"true"})),i.default.createElement("div",{className:this.state.mobileMenu},i.default.createElement(l.NavLink,{className:"navbar-item",to:"/app",exact:!0,activeStyle:{color:"#ff6b42"},onClick:function(){return e.toggleMobileMenu()}},i.default.createElement("span",null,"Min Musik")),i.default.createElement(l.NavLink,{className:"navbar-item",to:"/app/discover",activeStyle:{color:"#ff6b42"},onClick:function(){return e.toggleMobileMenu()}},i.default.createElement("span",null,"Utforska")),i.default.createElement(l.NavLink,{className:"navbar-item",to:"/app/new_releases",activeStyle:{color:"#ff6b42"},onClick:function(){return e.toggleMobileMenu()}},i.default.createElement("span",null,"Nytt")),i.default.createElement(l.NavLink,{className:"navbar-item",to:"/app/toplists",activeStyle:{color:"#ff6b42"},onClick:function(){return e.toggleMobileMenu()}},i.default.createElement("span",null,"Topplistor"))),i.default.createElement("div",{id:"navMenubd-example",className:"navbar-menu"},i.default.createElement("div",{onMouseEnter:function(){return e.setState({navClassName:"navbar-start with-indicator"})},onMouseLeave:function(){return e.setState({navClassName:"navbar-start "})},className:this.state.navClassName},i.default.createElement(l.NavLink,{className:"navbar-item",to:"/app",exact:!0,activeStyle:{color:"#ff6b42"}},i.default.createElement("span",null,"Min Musik")),i.default.createElement(l.NavLink,{className:"navbar-item",to:"/app/discover",activeStyle:{color:"#ff6b42"}},i.default.createElement("span",null,"Utforska")),i.default.createElement(l.NavLink,{className:"navbar-item",to:"/app/new_releases",activeStyle:{color:"#ff6b42"}},i.default.createElement("span",null,"Nytt")),i.default.createElement(l.NavLink,{className:"navbar-item",to:"/app/toplists",activeStyle:{color:"#ff6b42"}},i.default.createElement("span",null,"Topplistor"))),i.default.createElement("div",{className:"navbar-end"},i.default.createElement("form",{onSubmit:this.onSearchSubmit},i.default.createElement("div",{className:"control has-icons-right"},i.default.createElement("input",{className:"input",onChange:this.onInputChange,value:this.state.searchText,type:"text",placeholder:"Sök"}),i.default.createElement("span",{onClick:this.onSearchSubmit,className:"icon is-small is-right"},i.default.createElement("i",{className:"fa fa-search"})))),i.default.createElement("div",{className:"navbar-item"},this.props.user.id?i.default.createElement("div",{className:"field is-grouped",style:{alignItems:"center"}},i.default.createElement("div",{className:"navbar-item has-dropdown is-hoverable user-nav-dropdown"},i.default.createElement("img",{src:this.props.user.images[0]?this.props.user.images[0].url:null}),i.default.createElement("a",{className:"navbar-link user-nav-link"},this.props.user.display_name),i.default.createElement("div",{className:"navbar-dropdown"},i.default.createElement("a",{className:"navbar-item"},"Profil"),i.default.createElement("a",{onClick:function(){return e.onLogout()},className:"navbar-item"},"Logga ut")))):null))))}}]),t}();t.default=(0,l.withRouter)((0,s.connect)(null,{pauseActiveTrack:c.pauseActiveTrack})(u))},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=r(1),s=r(2),c=r(5),u=r(7),p=function(e){function t(){var e,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return r=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.navigateToDetailPage=function(e){a.props.history.push("/app/albums/"+e.id)},a.renderNewReleases=function(){return a.props.newReleases.map(function(e,t){return i.default.createElement("li",{onClick:function(){return a.navigateToDetailPage(e)},className:"new-releases-item",key:t},i.default.createElement("img",{src:e.images[0].url}))})},o=r,n(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.getNewReleases();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.default.createElement("div",{className:"new-releases-component"},i.default.createElement("h1",null,"Nya releaser"),i.default.createElement("ul",{className:"new-releases-list"},this.renderNewReleases()))}}]),t}();t.default=(0,s.withRouter)((0,l.connect)(function(e){return{newReleases:e.playlist.newReleases}},{getNewReleases:u.getNewReleases,setupAuthToAPI:c.setupAuthToAPI})(p))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),l=n(i),s=n(r(8)),c=function(e){function t(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.animateGraph=function(e){function t(){i>l&&(i-=10,s=Math.floor(400*(1-i/o)),r.style.strokeDashoffset=i,n.textContent=Math.floor(s/4),requestAnimationFrame(t))}var r=document.querySelector("."+e.cn),n=document.querySelector("."+e.cnt),a=r.r.baseVal.value,o=2*Math.PI*a,i=o,l=Math.ceil(o-o*e.measure),s=-1*(1-i/o);setTimeout(t,1e3)},o=r,a(n,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){e.measure!==this.props.measure&&this.animateGraph(e)}},{key:"render",value:function(){return l.default.createElement("svg",{className:"pieChart",width:"70",height:"70",viewBox:"-10 -10 225 225"},l.default.createElement("filter",{className:"dropShadow"},l.default.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"2"}),l.default.createElement("feOffset",{dx:"1",dy:"2"}),l.default.createElement("feComponentTransfer",null,l.default.createElement("feFuncA",{type:"linear",slope:"0.3"})),l.default.createElement("feMerge",null,l.default.createElement("feMergeNode",null),l.default.createElement("feMergeNode",{in:"SourceGraphic"}))),l.default.createElement("g",{className:"pie"},l.default.createElement("circle",{className:"inside",r:"100",cy:"100",cx:"100",fill:"none",stroke:"#444444",strokeWidth:"20"}),l.default.createElement("circle",{id:"graph",className:this.props.cn,r:"100",cy:"100",cx:"100",fill:"none",stroke:"#ff6b42",strokeWidth:"20"}),l.default.createElement("circle",{className:"inside",r:"90",cy:"100",cx:"100",fill:"none",stroke:"none"})),l.default.createElement("g",{className:"innerText",transform:"translate(0 13)"},l.default.createElement("text",{fill:"white",className:this.props.cnt,x:"50",y:"95"},"0"),l.default.createElement("text",{fill:"white",x:"110",y:"95"},"%")))}}]),t}();c.propTypes={cnt:s.default.string.isRequired,cn:s.default.string.isRequired,measure:s.default.number},t.default=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),s=n(l),c=r(2),u=r(1),p=r(5),f=r(7),d=r(3),m=n(r(19)),y=(n(r(20)),function(e){function t(){var e,r,n,i,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=Array(c),p=0;p<c;p++)u[p]=arguments[p];return r=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.setActivePlaylist=function(){var e=a(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.setActivePlaylist(r),e.next=3,n.props.setActiveTracklist(t,r);case 3:case"end":return e.stop()}},e,l)}));return function(t,r){return e.apply(this,arguments)}}(),n.renderTracklist=function(){if(n.props.activeTracklist)return s.default.createElement(m.default,null)},i=r,o(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentDidMount",value:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.scroll(0,0),this.setActivePlaylist(this.props.match.params.user,this.props.match.params.id);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.default.createElement("div",{className:"columns"},s.default.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"go-back-button"},s.default.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"})),s.default.createElement("div",{className:"column is-6 tracklist"},this.renderTracklist()))}}]),t}());t.default=(0,c.withRouter)((0,u.connect)(function(e){return{activeTracklist:e.track.activeTracklist}},{setActiveTracklist:d.setActiveTracklist,setActivePlaylist:f.setActivePlaylist,setupAuthToAPI:p.setupAuthToAPI})(y))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),l=n(i),s=n(r(8)),c=r(1),u=r(7),p=r(3),f=function(e){function t(){var e,r,n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.setActivePlaylist=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.setActivePlaylist(r),e.next=3,n.props.setActiveTracklist(t,r);case 3:window.scrollTo(0,0);case 4:case"end":return e.stop()}},e,i)}));return function(t,r){return e.apply(this,arguments)}}(),o=r,a(n,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"renderPlaylists",value:function(e){var t=this;return e.map(function(e){var r=void 0;return r=e.id===t.props.activePlaylistId?"tooltip active":"tooltip",l.default.createElement("li",{className:r,key:e.id,onClick:function(){return t.setActivePlaylist(e.owner.id,e.id)}},l.default.createElement("a",null,l.default.createElement("img",{src:e.images[0]?e.images[0].url:null}),l.default.createElement("span",{className:"playlist-name"},e.name),t.props.isPlaying&&t.props.playingPlaylist.id===e.id?l.default.createElement("i",{className:"fa fa-volume-up","aria-hidden":"true"}):null,l.default.createElement("span",{className:"tooltiptext"},e.owner.display_name||e.owner.id)))})}},{key:"render",value:function(){var e=this;return l.default.createElement("aside",{className:"menu"},l.default.createElement("p",{className:"menu-label top-label"},l.default.createElement("span",null,"Mina Spellistor"),l.default.createElement("i",{onClick:function(){return e.props.onOpenCreatePlaylistModal()},className:"fa fa-plus","aria-hidden":"true"})),l.default.createElement("ul",{className:"menu-list my-playlists invisible-scrollbar"},this.props.playlists?this.renderPlaylists(this.props.playlists):null),l.default.createElement("p",{className:"menu-label",style:{marginTop:"30px",marginBottom:"10px"}},"Spellistor för dig"),l.default.createElement("ul",{className:"menu-list featured-playlists"},this.props.featuredPlaylists?this.renderPlaylists(this.props.featuredPlaylists):null))}}]),t}();f.propTypes={onOpenCreatePlaylistModal:s.default.func.isRequired};t.default=(0,c.connect)(function(e){var t=e.user,r=e.playlist,n=e.track,a=e.player;return{user:t.user,playlists:r.playlists,featuredPlaylists:r.featuredPlaylists,activePlaylistId:r.activePlaylistId,playingPlaylist:n.playingTracklist,isPlaying:a.isPlaying}},{setActivePlaylist:u.setActivePlaylist,setActiveTracklist:p.setActiveTracklist})(f)},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=r(1),s=r(2),c=r(9),u=function(e){function t(){var e,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return r=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.navigateToPlaylist=function(e,t){a.props.history.push("/app/playlists/"+e+"/"+t)},a.renderToplists=function(){return a.props.toplists.map(function(e,t){return i.default.createElement("li",{onClick:function(){return a.navigateToPlaylist(e.owner.id,e.id)},className:"toplists-item",key:t},i.default.createElement("img",{src:e.images[0].url}))})},o=r,n(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.props.getActiveCategoryPlaylists("toplists")}},{key:"render",value:function(){return i.default.createElement("div",{className:"toplists-component "},i.default.createElement("h1",null,"Topplistor"),i.default.createElement("ul",{className:"toplists-list"},this.renderToplists()))}}]),t}();t.default=(0,s.withRouter)((0,l.connect)(function(e){return{toplists:e.categories.activeCategoryPlaylists}},{getActiveCategoryPlaylists:c.getActiveCategoryPlaylists})(u))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),s=n(l),c=r(2),u=r(1),p=n(r(40)),f=n(r(48)),d=r(5),m=r(3),y=r(4),h=function(e){function t(){var e,r,n,i,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=Array(c),p=0;p<c;p++)u[p]=arguments[p];return r=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={modalClassName:"modal create-playlist-modal"},n.createVisuals=function(e){e.load(n.props.trackDetail.preview_url),e.on("ready",function(){var e=document.getElementById("waveform").childNodes[0].childNodes[1];e.style.maxWidth="1300px";e.getContext("2d")})},n.closeModal=function(){n.setState({modalClassName:"modal create-playlist-modal"})},n.openModal=function(){n.setState({modalClassName:"modal create-playlist-modal is-active"})},n.navigateToArtistDetailPage=function(e){n.props.history.push("/app/artists/"+e)},n.renderFormattedArtists=function(e){return e.map(function(t,r){return r+1===e.length?s.default.createElement("h2",{key:r,onClick:function(){return n.navigateToArtistDetailPage(t.id)}},t.name):s.default.createElement("h2",{key:r,onClick:function(){return n.navigateToArtistDetailPage(t.id)}},t.name+", ")})},n.renderKey=function(e){switch(e){case 0:return"C";case 1:return"C#";case 2:return"D";case 3:return"D#";case 4:return"E";case 5:return"F";case 6:return"F#";case 7:return"G";case 8:return"G#";case 9:return"A";case 10:return"A#";case 11:return"B"}},n.startTrack=function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id!==n.props.activeTrack.id){e.next=4;break}n.props.playActiveTrack(),e.next=7;break;case 4:return e.next=6,n.props.setActiveTrack(t);case 6:n.props.playActiveTrack();case 7:n.props.showMusicbar();case 8:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}(),n.addTrackToPlaylists=function(e){e.map(function(e){n.props.addTrackToPlaylist(e.ownerId,e.playlistId,n.props.trackDetail.uri)})},n.renderStartStopButton=function(e){return null!==e.preview_url?n.props.isPlaying&&n.props.activeTrack.id===e.id?s.default.createElement("button",{onClick:function(){return n.props.pauseActiveTrack()},className:"button"},"Pause"):s.default.createElement("button",{onClick:function(){return n.startTrack(e)},className:"button"},"Play"):s.default.createElement("button",{className:"button"},"Broken link :(")},i=r,o(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillMount",value:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.scroll(0,0),this.props.getTrackDetail(this.props.match.params.id);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t=WaveSurfer.create({container:"#waveform",height:200,interact:!1,waveColor:"#444444",hideScrollbar:!0});setTimeout(function(){e.createVisuals(t)},1e3),this.unlisten=this.props.history.listen(function(){var r=a(regeneratorRuntime.mark(function r(n,a){var o,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=n.pathname.slice(12),i=n.pathname.slice(5,11),!o||"tracks"!=i){r.next=7;break}if(o===e.props.match.params.id){r.next=7;break}return r.next=6,e.props.getTrackDetail(o);case 6:e.createVisuals(t);case 7:case"end":return r.stop()}},r,e)}));return function(e,t){return r.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this,t=this.props.trackDetail;return s.default.createElement("div",{className:"track-detail-component"},s.default.createElement("div",{className:"track-header"},s.default.createElement("div",{className:"track-art-wrapper"},s.default.createElement("img",{className:"track-art",src:t.album.images?t.album.images[0].url:"https://upload.wikimedia.org/wikipedia/en/e/ee/Unknown-person.gif"})),s.default.createElement("div",{className:"track-info-details"},s.default.createElement("div",{className:"track-names"},s.default.createElement("div",{className:"track-artists"},t.artists?this.renderFormattedArtists(t.artists):null),s.default.createElement("h1",null,t.name)),s.default.createElement("div",{className:"track-character"},s.default.createElement("p",null,"BPM: ",s.default.createElement("span",null,Math.round(t.tempo||0))),s.default.createElement("p",null,"Key:"," ",s.default.createElement("span",null,this.renderKey(t.key)," ",0==t.mode?"minor":"major"))),s.default.createElement("div",{className:"track-measurements"},s.default.createElement("div",null,s.default.createElement("p",null,"Acousticness"),s.default.createElement(p.default,{measure:t.acousticness,cn:"graph-one",cnt:"updated-text-one"})),s.default.createElement("div",null,s.default.createElement("p",null,"Danceability"),s.default.createElement(p.default,{measure:t.danceability,cn:"graph-two",cnt:"updated-text-two"})),s.default.createElement("div",null,s.default.createElement("p",null,"Energy"),s.default.createElement(p.default,{measure:t.energy,cn:"graph-three",cnt:"updated-text-three"})),s.default.createElement("div",null,s.default.createElement("p",null,"Instrumentalness"),s.default.createElement(p.default,{measure:t.instrumentalness,cn:"graph-four",cnt:"updated-text-four"})),s.default.createElement("div",null,s.default.createElement("p",null,"Speechiness"),s.default.createElement(p.default,{measure:t.speechiness,cn:"graph-five",cnt:"updated-text-five"})),s.default.createElement("div",null,s.default.createElement("p",null,"Valence"),s.default.createElement(p.default,{measure:t.valence,cn:"graph-six",cnt:"updated-text-six"}))))),s.default.createElement("div",{className:"track-player-view"},s.default.createElement("div",{className:"track-player-options"},this.renderStartStopButton(t),s.default.createElement("button",{className:"button",onClick:function(){return e.openModal()}},"Add to playlist"),s.default.createElement("button",{className:"button",onClick:function(){return e.props.addTrackToQueuedList(t)}},"Queue")),s.default.createElement("div",{id:"waveform"}),s.default.createElement("div",{className:this.state.modalClassName},s.default.createElement(f.default,{addTrackToPlaylists:this.addTrackToPlaylists,closeModal:this.closeModal,privatePlaylists:this.props.privatePlaylists}))))}}]),t}();t.default=(0,c.withRouter)((0,u.connect)(function(e){var t=e.track,r=e.player,n=e.playlist;return{trackDetail:t.trackDetail,isPlaying:r.isPlaying,activeTrack:t.activeTrack,playedTime:r.playedTime,privatePlaylists:n.privatePlaylists||[]}},{setupAuthToAPI:d.setupAuthToAPI,getTrackDetail:m.getTrackDetail,setActiveTrack:m.setActiveTrack,pauseActiveTrack:y.pauseActiveTrack,playActiveTrack:y.playActiveTrack,showMusicbar:y.showMusicbar,addTrackToQueuedList:m.addTrackToQueuedList,addTrackToPlaylist:m.addTrackToPlaylist})(h))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=n(o),l=n(r(8)),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"tracklist-banner effect8"},i.default.createElement("div",{className:"tracklist-banner-info"},i.default.createElement("div",{className:"large-info"},i.default.createElement("p",{className:"menu-label"},"Spellista"),i.default.createElement("p",{className:"tracklist-name title"},this.props.activeTracklist.name?this.props.activeTracklist.name:"Låtar")),i.default.createElement("div",{className:"tracklist-banner-info-lower"},i.default.createElement("div",{className:"small-info"},i.default.createElement("p",null,"Följare:"," ",this.props.activeTracklist.followers?this.props.activeTracklist.followers.total:"0"),i.default.createElement("p",null,"Skapad av:"," ",this.props.activeTracklist.owner?this.props.activeTracklist.owner.display_name||this.props.activeTracklist.owner.id:"Okänd"," ")),i.default.createElement("div",{className:"tracklist-banner-btn-group"},this.props.playingTracklistId!==this.props.activeTracklist.id?i.default.createElement("button",{onClick:function(){return e.props.playActiveTracklist()},className:"button is-outlined"},"Spela Upp"):!1===this.props.isPlaying?i.default.createElement("button",{onClick:function(){return e.props.playActiveTracklist()},className:"button is-outlined"},"Spela Upp"):i.default.createElement("button",{onClick:function(){return e.props.stopActiveTrack()},className:"button is-outlined"},"Pausa"),this.props.activeTracklist.owner.id===this.props.userId?i.default.createElement("button",{onClick:function(){return e.props.showDeleteModal()},className:"button"},"Radera"):this.props.checkFollowStatusOnPlaylist(this.props.activeTracklist.id)?i.default.createElement("button",{onClick:function(){return e.props.showUnfollowModal()},className:"button"},"Sluta följ"):i.default.createElement("button",{onClick:function(){return e.props.followActivePlaylist()},className:"button"},"Följ")))),i.default.createElement("div",{className:"tracklist-img"},this.props.activeTracklist.images?i.default.createElement("img",{src:this.props.activeTracklist.images.length>0?this.props.activeTracklist.images[0].url:null}):null))}}]),t}();s.propTypes={activeTracklist:l.default.object,isPlaying:l.default.bool,playingTracklistId:l.default.string,playActiveTracklist:l.default.func.isRequired,stopActiveTrack:l.default.func.isRequired,showDeleteModal:l.default.func.isRequired,checkFollowStatusOnPlaylist:l.default.func.isRequired,showUnfollowModal:l.default.func.isRequired,followActivePlaylist:l.default.func.isRequired},t.default=s},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=n(o),l=n(r(8)),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"tracklist-scroll-banner effect1"},i.default.createElement("div",{className:"tracklist-name title"},i.default.createElement("div",{onClick:function(){return window.scroll(0,0)}},this.props.activeTracklist.name),i.default.createElement("span",null,this.props.activeTracklist.owner.display_name?this.props.activeTracklist.owner.display_name:this.props.activeTracklist.owner.id)),i.default.createElement("div",{className:"tracklist-scroll-banner-right-grp"},i.default.createElement("div",{className:"tracklist-scroll-btn-grp"},this.props.playingTracklistId!==this.props.activeTracklist.id?i.default.createElement("button",{onClick:function(){return e.props.playActiveTracklist()},className:"button is-outlined"},i.default.createElement("i",{className:"fa fa-play"})):!1===this.props.isPlaying?i.default.createElement("button",{onClick:function(){return e.props.playActiveTracklist()},className:"button is-outlined"},i.default.createElement("i",{className:"fa fa-play"})):i.default.createElement("button",{onClick:function(){return e.props.stopActiveTrack()},className:"button is-outlined"},i.default.createElement("i",{className:"fa fa-pause"})),i.default.createElement("button",{onClick:function(){return e.props.showDeleteModal()},className:"button"},i.default.createElement("span",{className:"icon"},i.default.createElement("i",{className:"fa fa-remove"})))),i.default.createElement("div",{className:"tracklist-scroll-img"},this.props.activeTracklist.images?i.default.createElement("img",{src:this.props.activeTracklist.images.length>0?this.props.activeTracklist.images[0].url:null}):null)))}}]),t}();s.propTypes={activeTracklist:l.default.object,isPlaying:l.default.bool,playingTracklistId:l.default.string,playActiveTracklist:l.default.func.isRequired,stopActiveTrack:l.default.func.isRequired,showDeleteModal:l.default.func.isRequired},t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=r(1),l=r(2),s=r(5);t.default=function(e){var t=function(t){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,a.Component),n(r,[{key:"componentDidMount",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getCurrentUser();case 2:console.log(this.props.user);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!1===this.props.user?(console.log("Not authorized",!1),o.default.createElement(l.Redirect,{to:"/"})):"string"==typeof this.props.user?o.default.createElement("div",null,"Loading..."):this.props.user?o.default.createElement(e,this.props):(console.log("Not authorized"),o.default.createElement(l.Redirect,{to:"/"}))}}]),r}();return(0,i.connect)(function(e){return{user:e.user.user}},{getCurrentUser:s.getCurrentUser,setupAuthToAPI:s.setupAuthToAPI})(t)}},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){var e,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return r=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.prepareCloseModal=function(){document.querySelectorAll("input[name=checkbox]:checked").forEach(function(e){e.checked=!1}),a.props.closeModal()},a.addTrackToPlaylist=function(){var e=[];document.querySelectorAll("input[name=checkbox]:checked").forEach(function(t){e.push({playlistId:t.dataset.id,ownerId:t.dataset.owner})}),e.length>0&&(a.props.addTrackToPlaylists(e),a.prepareCloseModal())},a.renderPlaylists=function(e){return e.map(function(e,t){return i.default.createElement("li",{key:t},i.default.createElement("p",null,e.name),i.default.createElement("input",{type:"checkbox","data-id":e.id,"data-owner":e.owner.id,name:"checkbox"}))})},o=r,n(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"add-track-to-playlist-modal"},i.default.createElement("div",{onClick:function(){return e.prepareCloseModal()},className:"modal-background"}),i.default.createElement("div",{className:"modal-content"},i.default.createElement("h1",{className:"title"},"Add track to playlists"),i.default.createElement("ul",{className:"playlist-menu"},this.renderPlaylists(this.props.privatePlaylists)),i.default.createElement("div",{className:"field is-grouped is-grouped-centered"},i.default.createElement("p",{className:"control"},i.default.createElement("a",{onClick:function(){return e.prepareCloseModal()},className:"button is-light"},"Avbryt")),i.default.createElement("p",{className:"control"},i.default.createElement("a",{onClick:function(){return e.addTrackToPlaylist()},className:"button is-primary"},"Skapa")))),i.default.createElement("button",{onClick:function(){return e.prepareCloseModal()},className:"modal-close is-large","aria-label":"close"}))}}]),t}();t.default=l},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){var e,r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={name:"",desc:""},a.prepareCloseModal=function(){a.setState({name:"",desc:""}),a.props.closeModal()},o=r,n(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",null,i.default.createElement("div",{onClick:function(){return e.prepareCloseModal()},className:"modal-background"}),i.default.createElement("div",{className:"modal-content"},i.default.createElement("h1",{className:"title"},"Ny spellista"),i.default.createElement("div",{className:"field"},i.default.createElement("label",{className:"label"},"Namn"),i.default.createElement("div",{className:"control"},i.default.createElement("input",{onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name,className:"input",type:"text",placeholder:"Ny spellista"}))),i.default.createElement("div",{className:"field"},i.default.createElement("label",{className:"label"},"Beskrivning"),i.default.createElement("div",{className:"control"},i.default.createElement("textarea",{onChange:function(t){return e.setState({desc:t.target.value})},value:this.state.desc,className:"textarea",placeholder:"Min favorit spellista"}))),i.default.createElement("div",{className:"field is-grouped is-grouped-centered"},i.default.createElement("p",{className:"control"},i.default.createElement("a",{onClick:function(){return e.prepareCloseModal()},className:"button is-light"},"Avbryt")),i.default.createElement("p",{className:"control"},i.default.createElement("a",{onClick:function(){return e.props.createPlaylist(e.state.name,e.state.desc)},className:"button is-primary"},"Skapa")))),i.default.createElement("button",{onClick:function(){return e.prepareCloseModal()},className:"modal-close is-large","aria-label":"close"}))}}]),t}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"render",value:function(){var e=this;return o.default.createElement("div",null,o.default.createElement("div",{onClick:function(){return e.props.closeModal()},className:"modal-background"}),o.default.createElement("div",{className:"modal-content"},o.default.createElement("h1",{className:"title"},"Radera Spellista"),o.default.createElement("p",{style:{textAlign:"center",margin:"30px 0px",fontSize:"16px"}},"Är du säker på att du vill radera denna spellista?"),o.default.createElement("div",{className:"field is-grouped is-grouped-centered"},o.default.createElement("p",{className:"control"},o.default.createElement("a",{onClick:function(){return e.props.closeModal()},className:"button is-light"},"Avbryt")),o.default.createElement("p",{className:"control"},o.default.createElement("a",{onClick:function(){return e.props.deletePlaylist()},className:"button is-primary"},"Radera")))),o.default.createElement("button",{onClick:function(){return e.props.closeModal()},className:"modal-close is-large","aria-label":"close"}))}}]),t}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"render",value:function(){var e=this;return o.default.createElement("div",null,o.default.createElement("div",{onClick:function(){return e.props.closeModal()},className:"modal-background"}),o.default.createElement("div",{className:"modal-content"},o.default.createElement("h1",{className:"title"},"Sluta Följ Spellista"),o.default.createElement("p",{style:{textAlign:"center",margin:"30px 0px",fontSize:"16px"}},"Är du säker på att du vill sluta följa denna spellista?"),o.default.createElement("div",{className:"field is-grouped is-grouped-centered"},o.default.createElement("p",{className:"control"},o.default.createElement("a",{onClick:function(){return e.props.closeModal()},className:"button is-light"},"Avbryt")),o.default.createElement("p",{className:"control"},o.default.createElement("a",{onClick:function(){return e.props.unfollowPlaylist()},className:"button is-primary"},"Sluta följ")))),o.default.createElement("button",{onClick:function(){return e.props.closeModal()},className:"modal-close is-large","aria-label":"close"}))}}]),t}();t.default=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(0)),o=r(66),i=r(2),l=r(1),s=r(11),c=n(r(72)),u=n(r(21));t.default=function(e,t,r){return'\n    <html>\n      <head>\n        <meta charset="utf-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">\n        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.1/css/bulma.min.css">\n        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">\n        <title>Soundize - Music for everyone </title>\n      </head>\n      <body>\n        <noscript>\n          You need to enable JavaScript to run this app.\n        </noscript>\n        <div id="root">'+(0,o.renderToString)(a.default.createElement(l.Provider,{store:t},a.default.createElement(i.StaticRouter,{location:e.path,context:r},a.default.createElement("div",null,(0,s.renderRoutes)(u.default)))))+"</div>\n        <script>\n          window.INITIAL_STATE = "+(0,c.default)(t.getState())+'\n        <\/script>\n        <script src="/client.js"><\/script>\n        <script src="//cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.4.0/wavesurfer.min.js"><\/script>\n      </body>\n    </html>\n    '}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(24),o=n(r(70)),i=(r(69),n(r(57)));t.default=function(e){return(0,a.createStore)(i.default,{},(0,a.compose)((0,a.applyMiddleware)(o.default)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(12),o={album:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.SET_ALBUM:return n({},e,{album:t.payload});default:return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(14),o={artist:{},albums:[],topTracks:[],relatedArtists:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.SET_ARTIST:return n({},e,{artist:t.payload});case a.SET_ARTIST_ALBUMS:return n({},e,{albums:t.payload});case a.SET_ARTIST_TOP_TRACKS:return n({},e,{topTracks:t.payload});case a.SET_ARTIST_RELATED_ARTISTS:return n({},e,{relatedArtists:t.payload});default:return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(9),o={categories:[],activeCategoryPlaylists:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.SET_CATEGORIES:return n({},e,{categories:t.payload});case a.SET_ACTIVE_CATEGORY_PLAYLISTS:return n({},e,{activeCategoryPlaylists:t.payload});default:return e}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(24),o=n(r(59)),i=n(r(61)),l=n(r(62)),s=n(r(58)),c=n(r(56)),u=n(r(60)),p=n(r(54)),f=n(r(55));t.default=(0,a.combineReducers)({playlist:o.default,track:i.default,user:l.default,player:s.default,categories:c.default,search:u.default,album:p.default,artist:f.default})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.PLAY_ACTIVE_TRACK:return n({},e,{isPlaying:!0});case a.PAUSE_ACTIVE_TRACK:return n({},e,{isPlaying:!1});case a.TOGGLE_ACTIVE_TRACK:return n({},e,{isPlaying:!e.isPlaying});case a.SHOW_MUSICBAR:return n({},e,{showMusicbar:!0});case a.SET_PLAYED_TIME:return n({},e,{playedTime:t.payload});case a.START_SEEK:return n({},e,{isSeeking:!0});case a.STOP_SEEK:return n({},e,{isSeeking:!1});case a.CHANGE_SEEK:return n({},e,{playedTime:t.payload});case a.ZERO_PLAYED_TIME:return n({},e,{playedTime:0});case a.TOGGLE_SHUFFLE:return n({},e,{isShuffling:!e.isShuffling});default:return e}};var a=r(4),o={isPlaying:!1,playedTime:0,isSeeking:!1,showMusicbar:!1,isShuffling:!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.SET_PLAYLISTS:return n({},e,{playlists:t.payload});case a.SET_PRIVATE_PLAYLISTS:return n({},e,{privatePlaylists:t.payload});case a.SET_FEATURED_PLAYLISTS:return n({},e,{featuredPlaylists:t.payload});case a.SET_ACTIVE_PLAYLIST:return n({},e,{activePlaylistId:t.payload});case a.SET_NEW_RELEASES:return n({},e,{newReleases:t.payload});default:return e}};var a=r(7),o={playlists:[],privatePlaylists:[],featuredPlaylists:[],activePlaylistId:null,playingPlaylist:null,newReleases:[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(15),o={searchedArtists:[],searchedPlaylists:[],searchedTracks:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.SET_SEARCHED_ARTISTS:return n({},e,{searchedArtists:t.payload});case a.SET_SEARCHED_TRACKS:return n({},e,{searchedTracks:t.payload});case a.SET_SEARCHED_PLAYLISTS:return n({},e,{searchedPlaylists:t.payload});default:return e}}},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case o.SET_TRACK_DETAIL:return a({},e,{trackDetail:t.payload});case o.SET_ACTIVE_TRACKLIST:return a({},e,{activeTracklist:t.payload});case o.SET_PLAYING_TRACKLIST:return a({},e,{playingTracklist:t.payload});case o.ADD_TRACK_TO_QUEUED_LIST:return e.queuedTracks?a({},e,{queuedTracks:[].concat(n(e.queuedTracks),[t.payload])}):a({},e,{queuedTracks:[t.payload]});case o.REMOVE_TRACK_FROM_QUEUED_LIST:var r=e.queuedTracks.filter(function(e,r){return r!==t.payload});return a({},e,{queuedTracks:r});case o.ADD_TRACK_TO_LATEST_PLAYED:return e.latestPlayedTracks.length>0?e.latestPlayedTracks[e.latestPlayedTracks.length-1].id!==t.payload.id?a({},e,{latestPlayedTracks:[].concat(n(e.latestPlayedTracks),[t.payload])}):a({},e):a({},e,{latestPlayedTracks:[t.payload]});case o.SET_ACTIVE_TRACK:return a({},e,{activeTrack:t.payload});case o.SET_ACTIVE_TRACKINDEX:return t.payload||0===t.payload?a({},e,{activeTrackIndex:t.payload}):(console.log("Inget track index skickades med vid start"),a({},e));default:return e}};var o=r(3),i={trackDetail:{album:{images:null}},activeTracklist:null,playingTracklist:{id:""},loadingTracklist:!1,activeTrack:{id:null,images:null,artists:[],name:null},activeTrackIndex:0,latestPlayedTracks:[],queuedTracks:[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(5),o={user:"loading"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.SET_USER:return n({},e,{user:t.payload||!1});case a.FAIL_USER:return n({},e,{user:null});default:return e}}},function(e,t,r){e.exports=r.p+"3ca7796551454ce362aa8bfc97aa22b9.png"},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("react-flip-move")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("redux-persist")},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("screenfull")},function(e,t){e.exports=require("serialize-javascript")},function(e,t,r){r(26),e.exports=r(25)}]);